<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Weaviate Vector Store" href="WeaviateIndexDemo.html" /><link rel="prev" title="Tencent Cloud VectorDB" href="TencentVectorDBIndexDemo.html" />

    <!-- Generated with Sphinx 5.3.0 and Furo 2023.03.27 -->
        <title>Timescale Vector Store (PostgreSQL) - LlamaIndex ðŸ¦™ 0.9.8.post1</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/algolia.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style><script async type="text/javascript" src="/_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="llamaindex-llamaindex" /><meta name="readthedocs-version-slug" content="stable" /></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">LlamaIndex ðŸ¦™ 0.9.8.post1
</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  
  <span class="sidebar-brand-text">LlamaIndex ðŸ¦™ 0.9.8.post1
</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/installation.html">Installation and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/reading.html">How to read these docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/starter_example.html">Starter Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/concepts.html">High-Level Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/customization.html">Customization Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/discover_llamaindex.html">Discover LlamaIndex Video Series</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use Cases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../use_cases/q_and_a.html">Q&amp;A</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use_cases/chatbots.html">Chatbots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use_cases/agents.html">Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../use_cases/extraction.html">Structured Data Extraction</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../use_cases/multimodal.html">Multi-modal</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../multi_modal/gpt4v_multi_modal_retrieval.html">Advanced Multi-Modal Retrieval using GPT4V and Multi-Modal Index/Retriever</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multi_modal/multi_modal_retrieval.html">Multi-modal retrieval with CLIP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multi_modal/image_to_image_retrieval.html">Image to Image Retrieval</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multi_modal/llava_multi_modal_tesla_10q.html">Retrieval-Augmented Image Captioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multi_modal/ChromaMultiModalDemo.html">Chroma Multi-Modal Demo with LlamaIndex</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Understanding</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../understanding/understanding.html">Building an LLM application</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../understanding/using_llms/using_llms.html">Using LLMs</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../understanding/using_llms/privacy.html">Privacy and Security</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../understanding/loading/loading.html">Loading</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../understanding/loading/llamahub.html">LlamaHub</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../understanding/indexing/indexing.html">Indexing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../understanding/storing/storing.html">Storing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../understanding/querying/querying.html">Querying</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../understanding/putting_it_all_together/putting_it_all_together.html">Putting It All Together</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../understanding/putting_it_all_together/q_and_a.html">Q&amp;A patterns</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../understanding/putting_it_all_together/q_and_a/terms_definitions_tutorial.html">A Guide to Extracting Terms and Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../understanding/putting_it_all_together/q_and_a/unified_query.html">A Guide to Creating a Unified Query Framework over your Indexes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../understanding/putting_it_all_together/graphs.html">Knowledge Graphs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../understanding/putting_it_all_together/structured_data.html">Structured Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../understanding/putting_it_all_together/structured_data.html#a-guide-to-llamaindex-structured-data">A Guide to LlamaIndex + Structured Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../understanding/putting_it_all_together/structured_data/Airbyte_demo.html">Airbyte SQL Index Guide</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../understanding/putting_it_all_together/apps.html">Full-Stack Web Application</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../understanding/putting_it_all_together/apps/fullstack_app_guide.html">A Guide to Building a Full-Stack Web App with LLamaIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../understanding/putting_it_all_together/apps/fullstack_with_delphic.html">A Guide to Building a Full-Stack LlamaIndex Web App with Delphic</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../understanding/putting_it_all_together/chatbots/building_a_chatbot.html">How to Build a Chatbot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../understanding/putting_it_all_together/agents.html">Agents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../understanding/tracing_and_debugging/tracing_and_debugging.html">Tracing and Debugging</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../understanding/evaluating/evaluating.html">Evaluating</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../understanding/evaluating/cost_analysis/root.html">Cost Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../understanding/evaluating/cost_analysis/usage_pattern.html">Usage Pattern</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Optimizing</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../optimizing/basic_strategies/basic_strategies.html">Basic Strategies</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../prompts/prompt_mixin.html">Accessing/Customizing Prompts within Higher-Level Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prompts/advanced_prompts.html">Advanced Prompt Techniques (Variable Mappings, Functions)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prompts/advanced_prompts.html">Advanced Prompt Techniques (Variable Mappings, Functions)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prompts/prompts_rag.html">Prompt Engineering for RAG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../retrievers/bm25_retriever.html">BM25 Retriever</a></li>
<li class="toctree-l2"><a class="reference internal" href="../retrievers/reciprocal_rerank_fusion.html">Reciprocal Rerank Fusion Retriever</a></li>
<li class="toctree-l2"><a class="reference internal" href="WeaviateIndexDemo-Hybrid.html">Weaviate Vector Store - Hybrid Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="PineconeIndexDemo-Hybrid.html">Pinecone Vector Store - Hybrid Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../module_guides/indexing/vector_store_guide.html">Vector Store Index</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/loading/documents_and_nodes/usage_documents.html">Defining and Customizing Documents</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../module_guides/loading/documents_and_nodes/usage_nodes.html">Defining and Customizing Nodes</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/loading/documents_and_nodes/usage_metadata_extractor.html">Metadata Extraction Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../metadata_extraction/MetadataExtractionSEC.html">Extracting Metadata for Better Document Indexing and Understanding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metadata_extraction/MetadataExtraction_LLMSurvey.html">Automated Metadata Extraction for Better Retrieval + Synthesis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metadata_extraction/EntityExtractionClimate.html">Entity Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metadata_extraction/MarvinMetadataExtractorDemo.html">Metadata Extraction and Augmentation w/ Marvin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metadata_extraction/PydanticExtractor.html">Pydantic Extractor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../optimizing/advanced_retrieval/advanced_retrieval.html">Advanced Retrieval Strategies</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../optimizing/advanced_retrieval/query_transformations.html">Query Transformations</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../query_transformations/HyDEQueryTransformDemo.html">HyDE Query Transform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_transformations/SimpleIndexDemo-multistep.html">Multi-Step Query Engine</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../optimizing/advanced_retrieval/structured_outputs/pydantic_program.html">Pydantic Program</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/openai_pydantic_program.html">OpenAI Pydantic Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/guidance_pydantic_program.html">Guidance Pydantic Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/guidance_sub_question.html">Guidance for Sub-Question Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/df_program.html">DataFrame Structured Data Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/evaporate_program.html">Evaporate Demo</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../optimizing/advanced_retrieval/structured_outputs/query_engine.html">Query Engines + Pydantic Outputs</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/pydantic_query_engine.html">Query Engine with Pydantic Outputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../response_synthesizers/pydantic_tree_summarize.html">Pydantic Tree Summarize</a></li>
<li class="toctree-l3"><a class="reference internal" href="../response_synthesizers/pydantic_tree_summarize.html#download-data">Download Data</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../optimizing/advanced_retrieval/structured_outputs/structured_outputs.html">Structured Outputs</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../optimizing/advanced_retrieval/structured_outputs/pydantic_program.html">Pydantic Program</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../output_parsing/openai_pydantic_program.html">OpenAI Pydantic Program</a></li>
<li class="toctree-l4"><a class="reference internal" href="../output_parsing/guidance_pydantic_program.html">Guidance Pydantic Program</a></li>
<li class="toctree-l4"><a class="reference internal" href="../output_parsing/guidance_sub_question.html">Guidance for Sub-Question Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../output_parsing/df_program.html">DataFrame Structured Data Extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../output_parsing/evaporate_program.html">Evaporate Demo</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../optimizing/advanced_retrieval/structured_outputs/query_engine.html">Query Engines + Pydantic Outputs</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/pydantic_query_engine.html">Query Engine with Pydantic Outputs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../response_synthesizers/pydantic_tree_summarize.html">Pydantic Tree Summarize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../response_synthesizers/pydantic_tree_summarize.html#download-data">Download Data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../retrievers/deep_memory.html">DeepMemory (Activeloop)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../optimizing/agentic_strategies/agentic_strategies.html">Agentic strategies</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../agent/openai_agent.html">Build your own OpenAI Agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../agent/openai_agent_with_query_engine.html">OpenAI Agent with Query Engine Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../agent/openai_agent_retrieval.html">Retrieval-Augmented OpenAI Agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../agent/openai_agent_query_cookbook.html">OpenAI Agent + Query Engine Experimental Cookbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../agent/openai_agent_query_plan.html">OpenAI Agent Query Planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../agent/openai_agent_context_retrieval.html">Context-Augmented OpenAI Agent</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../optimizing/evaluation/evaluation.html">Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../optimizing/evaluation/e2e_evaluation.html">End-to-End Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/QuestionGeneration.html">QuestionGeneration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/batch_eval.html">BatchEvalRunner - Running Multiple Evaluations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/correctness_eval.html">Correctness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/faithfulness_eval.html">Faithfulness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/guideline_eval.html">Guideline Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/pairwise_eval.html">Pairwise Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/relevancy_eval.html">Relevancy Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/semantic_similarity_eval.html">Embedding Similarity Evaluator</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../optimizing/evaluation/component_wise_evaluation.html">Component Wise Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/BeirEvaluation.html">BEIR Out of Domain Benchmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/HotpotQADistractor.html">HotpotQADistractor Demo</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/evaluating/root.html">Evaluating</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/evaluating/usage_pattern.html">Usage Pattern (Response Evaluation)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/evaluating/usage_pattern_retrieval.html">Usage Pattern (Retrieval)</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/evaluating/modules.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/faithfulness_eval.html">Faithfulness Evaluator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/relevancy_eval.html">Relevancy Evaluator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/guideline_eval.html">Guideline Evaluator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/correctness_eval.html">Correctness Evaluator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/semantic_similarity_eval.html">Embedding Similarity Evaluator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/Deepeval.html">LlamaIndex + DeepEval Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/QuestionGeneration.html">QuestionGeneration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/batch_eval.html">BatchEvalRunner - Running Multiple Evaluations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/multi_modal/multi_modal_rag_evaluation.html">Evaluating Multi-Modal RAG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/retrieval/retriever_eval.html">Retrieval Evaluation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../optimizing/evaluation/component_wise_evaluation.html">Component Wise Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/BeirEvaluation.html">BEIR Out of Domain Benchmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/HotpotQADistractor.html">HotpotQADistractor Demo</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../optimizing/evaluation/e2e_evaluation.html">End-to-End Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/QuestionGeneration.html">QuestionGeneration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/batch_eval.html">BatchEvalRunner - Running Multiple Evaluations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/correctness_eval.html">Correctness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/faithfulness_eval.html">Faithfulness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/guideline_eval.html">Guideline Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/pairwise_eval.html">Pairwise Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/relevancy_eval.html">Relevancy Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/semantic_similarity_eval.html">Embedding Similarity Evaluator</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../optimizing/fine-tuning/fine-tuning.html">Fine-tuning</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/embeddings/finetune_embedding_adapter.html">Fine-tuning an Adapter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/embeddings/finetune_embedding.html">Embedding Fine-tuning Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/router/router_finetune.html">Router Fine-tuning</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/run-llama/finetune-embedding">Embedding Fine-tuning Repo</a></li>
<li class="toctree-l2"><a class="reference external" href="https://medium.com/llamaindex-blog/fine-tuning-embeddings-for-rag-with-synthetic-data-e534409a3971">Embedding Fine-tuning Blog</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/drive/1NgyCJVyrC2xcZ5lxt2frTU862v6eJHlc?usp=sharing">GPT-3.5 Fine-tuning Notebook (Colab)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/openai_fine_tuning.html">GPT-3.5 Fine-tuning Notebook (Notebook link)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/react_agent/react_agent_finetune.html">Fine-tuning a gpt-3.5 ReAct Agent on Better Chain of Thought</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/openai_fine_tuning_functions.html">[WIP] Function Calling Fine-tuning</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/drive/1vWeJBXdFEObuihO7Z8ui2CAYkdHQORqo?usp=sharing">GPT-3.5 Fine-tuning Notebook (Colab)</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/jerryjliu/llama_index/blob/main/experimental/openai_fine_tuning/openai_fine_tuning.ipynb">GPT-3.5 Fine-tuning Notebook (in Repo)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/knowledge/finetune_retrieval_aug.html">Fine-tuning with Retrieval Augmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/openai_fine_tuning_functions.html">OpenAI Function Calling Fine-tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/gradient/gradient_structured.html">Llama2 Structured Output Fine-tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/knowledge/finetune_knowledge.html">Fine-tuning to Memorize Knowledge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/gradient/gradient_fine_tuning.html">Llama 2 Text-to-SQL Fine-tuning (w/ Gradient.AI)</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/run-llama/modal_finetune_sql">Llama 2 Text-to-SQL Fine-tuning (w/ Modal, Repo)</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/run-llama/modal_finetune_sql/blob/main/tutorial.ipynb">Llama 2 Text-to-SQL Fine-tuning (w/ Modal, Notebook)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/llm_judge/correctness/finetune_llm_judge_single_grading_correctness.html">Knowledge Distillation For Fine-Tuning A GPT-3.5 Judge (Correctness)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/llm_judge/pairwise/finetune_llm_judge.html">Knowledge Distillation For Fine-Tuning A GPT-3.5 Judge (Pairwise)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/cross_encoder_finetuning/cross_encoder_finetuning.html">Cross-Encoder Finetuning</a></li>
<li class="toctree-l2"><a class="reference external" href="https://medium.com/llamaindex-blog/easily-finetune-llama-2-for-your-text-to-sql-applications-ecd53640e10d">Finetuning Llama 2 for Text-to-SQL</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/drive/1vWeJBXdFEObuihO7Z8ui2CAYkdHQORqo?usp=sharing">Finetuning GPT-3.5 to Distill GPT-4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/rerankers/cohere_custom_reranker.html">Cohere Custom Reranker</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../optimizing/production_rag.html">Building Performant RAG Applications for Production</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../query_engine/pdf_tables/recursive_retriever.html">Recursive Retriever + Query Engine Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_structs/doc_summary/DocSummary.html">Document Summary Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../node_postprocessor/MetadataReplacementDemo.html">Metadata Replacement + Node Sentence Window</a></li>
<li class="toctree-l2"><a class="reference internal" href="chroma_auto_retriever.html">Auto-Retrieval from a Vector Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index_structs/doc_summary/DocSummary.html">Document Summary Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../query_engine/recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../retrievers/auto_vs_recursive_retriever.html">Comparing Methods for Structured Retrieval (Auto-Retrieval vs. Recursive Retrieval)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../query_engine/sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../query_engine/JointQASummary.html">Joint QA Summary Query Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../query_engine/recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../query_engine/RouterQueryEngine.html">Router Query Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../agent/openai_agent_query_cookbook.html">OpenAI Agent + Query Engine Experimental Cookbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../agent/openai_agent_query_plan.html">OpenAI Agent Query Planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../finetuning/embeddings/finetune_embedding.html">Embedding Fine-tuning Guide</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../optimizing/building_rag_from_scratch.html">Building RAG from Scratch (Lower-Level)</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../low_level/ingestion.html">Building Data Ingestion from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/ingestion.html#pinecone">Pinecone</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/ingestion.html#openai">OpenAI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/retrieval.html">Building Retrieval from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/oss_ingestion_retrieval.html">Building RAG from Scratch (Open-source only!)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/vector_store.html">Building a (Very Simple) Vector Store from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/response_synthesis.html">Building Response Synthesis from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/evaluation.html">Building Evaluation from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/router.html">Building a Router from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../low_level/fusion_retriever.html">Building an Advanced Fusion Retriever from Scratch</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Module Guides</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../module_guides/models/models.html">Models</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/models/llms.html">Using LLMs</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/models/llms/usage_standalone.html">Using LLMs as standalone modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/models/llms/usage_custom.html">Customizing LLMs within LlamaIndex Abstractions</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/models/llms/modules.html">Available LLM integrations</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../llm/openai.html">OpenAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/azure_openai.html">Azure OpenAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/ai21.html">AI21</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/anthropic.html">Anthropic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/gradient_base_model.html">Gradient Base Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/gradient_model_adapter.html">Gradient Model Adapter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../customization/llms/SimpleIndexDemo-Huggingface_camel.html">HuggingFace LLM - Camel-5b</a></li>
<li class="toctree-l4"><a class="reference internal" href="../customization/llms/SimpleIndexDemo-Huggingface_stablelm.html">HuggingFace LLM - StableLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="SimpleIndexDemoLlama-Local.html">Local Llama2 + VectorStoreIndex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/everlyai.html">EverlyAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/litellm.html">LiteLLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/palm.html">PaLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/predibase.html">Predibase</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/llama_2.html">Replicate - Llama 2 13B</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/vicuna.html">Replicate - Vicuna 13B</a></li>
<li class="toctree-l4"><a class="reference internal" href="SimpleIndexDemoLlama2.html">Llama2 + VectorStoreIndex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/langchain.html">LangChain LLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/llama_api.html">Llama API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/llama_2_llama_cpp.html">LlamaCPP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/xinference_local_deployment.html">Xorbits Inference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/monsterapi.html">Monster API LLM Integration into LLamaIndex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/rungpt.html">RunGPT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/rungpt.html#setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/portkey.html">Portkey</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/anyscale.html">Anyscale</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/ollama.html">Ollama - Llama 2 7B</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/clarifai.html">Clarifai LLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/bedrock.html">Bedrock</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/bedrock.html#connect-to-bedrock-with-access-keys">Connect to Bedrock with Access Keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/vertex.html">Getting Started</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/vertex.html#streaming-usage">Streaming Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/vertex.html#chat-usage">Chat Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/vertex.html#async-chat">Async Chat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/vertex.html#streaming-chat">Streaming Chat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/perplexity.html">Perplexity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../llm/openllm.html">OpenLLM</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/models/embeddings.html">Embeddings</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/OpenAI.html">OpenAI Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/Langchain.html">Langchain Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/cohereai.html">CohereAI Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/fastembed.html">Qdrant FastEmbed Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/gradient.html">Gradient Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../customization/llms/AzureOpenAI.html">Azure OpenAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/custom_embeddings.html">Custom Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/huggingface.html">Local Embeddings with HuggingFace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/elasticsearch.html">Elasticsearch Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/clarifai.html">Embeddings with Clarifai</a></li>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/llm_rails.html">LLMRails Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/text_embedding_inference.html">Text Embedding Inference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/google_palm.html">Google PaLM Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/jinaai_embeddings.html">Jina Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../embeddings/voyageai.html">Voyage Embeddings</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/models/prompts.html">Prompts</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../module_guides/models/prompts/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l4"><a class="reference internal" href="../customization/prompts/completion_prompts.html">Completion prompts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../customization/prompts/chat_prompts.html">Chat prompts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../prompts/prompt_mixin.html">Accessing/Customizing Prompts within Higher-Level Modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../prompts/advanced_prompts.html">Advanced Prompt Techniques (Variable Mappings, Functions)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../prompts/prompts_rag.html">Prompt Engineering for RAG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../prompts/prompt_optimization.html">â€œOptimization by Promptingâ€ for RAG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../prompts/emotion_prompt.html">EmotionPrompt in RAG</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/models/llms/local.html">Using local models</a></li>
<li class="toctree-l3"><a class="reference external" href="https://replicate.com/blog/run-llama-locally">Run Llama2 locally</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/models/embeddings.html">Embeddings</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/OpenAI.html">OpenAI Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/Langchain.html">Langchain Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/cohereai.html">CohereAI Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/fastembed.html">Qdrant FastEmbed Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/gradient.html">Gradient Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../customization/llms/AzureOpenAI.html">Azure OpenAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/custom_embeddings.html">Custom Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/huggingface.html">Local Embeddings with HuggingFace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/elasticsearch.html">Elasticsearch Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/clarifai.html">Embeddings with Clarifai</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/llm_rails.html">LLMRails Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/text_embedding_inference.html">Text Embedding Inference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/google_palm.html">Google PaLM Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/jinaai_embeddings.html">Jina Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../embeddings/voyageai.html">Voyage Embeddings</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/models/multi_modal.html">[Beta] Multi-modal models</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../multi_modal/openai_multi_modal.html">Multi-Modal LLM using OpenAI GPT-4V model for image reasoning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../multi_modal/replicate_multi_modal.html">Multi-Modal LLM using Replicate LlaVa, Fuyu 8B, MiniGPT4 models for image reasoning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../multi_modal/multi_modal_retrieval.html">Multi-Modal Retrieval using GPT text embedding and CLIP image embedding for Wikipedia Articles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../multi_modal/llava_multi_modal_tesla_10q.html">Retrieval-Augmented Image Captioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../multi_modal/image_to_image_retrieval.html">Image to Image Retrieval using CLIP embedding and image correlation reasoning using GPT4V</a></li>
<li class="toctree-l3"><a class="reference internal" href="../multi_modal/gpt4v_multi_modal_retrieval.html">Advanced Multi-Modal Retrieval using GPT4V and Multi-Modal Index/Retriever</a></li>
<li class="toctree-l3"><a class="reference internal" href="../multi_modal/gpt4v_experiments_cot.html">GPT4-V Experiments with General, Specific questions and Chain Of Thought (COT) Prompting Technique.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../multi_modal/ChromaMultiModalDemo.html">Chroma Multi-Modal Demo with LlamaIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/multi_modal/multi_modal_rag_evaluation.html">Evaluating Multi-Modal RAG</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../module_guides/models/prompts.html">Prompts</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../module_guides/models/prompts/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customization/prompts/completion_prompts.html">Completion prompts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../customization/prompts/chat_prompts.html">Chat prompts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prompts/prompt_mixin.html">Accessing/Customizing Prompts within Higher-Level Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prompts/advanced_prompts.html">Advanced Prompt Techniques (Variable Mappings, Functions)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prompts/prompts_rag.html">Prompt Engineering for RAG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prompts/prompt_optimization.html">â€œOptimization by Promptingâ€ for RAG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prompts/emotion_prompt.html">EmotionPrompt in RAG</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../module_guides/loading/loading.html">Loading</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/loading/connector/root.html">Data Connectors (LlamaHub)</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/loading/connector/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/loading/connector/modules.html">Module Guides</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/><label for="toctree-checkbox-40"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/simple_directory_reader.html">Simple Directory Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/PsychicDemo.html">Psychic Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/DeepLakeReader.html">DeepLake Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/QdrantDemo.html">Qdrant Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/DiscordDemo.html">Discord Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/MongoDemo.html">MongoDB Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/ChromaDemo.html">Chroma Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/MyScaleReaderDemo.html">MyScale Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/FaissDemo.html">Faiss Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/ObsidianReaderDemo.html">Obsidian Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/SlackDemo.html">Slack Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/WebPageDemo.html">Web Page Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/PineconeDemo.html">Pinecone Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/MboxReaderDemo.html">Mbox Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/MilvusReaderDemo.html">MilvusReader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/NotionDemo.html">Notion Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/GithubRepositoryReaderDemo.html">Github Repo Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/GoogleDocsDemo.html">Google Docs Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/DatabaseReaderDemo.html">Database Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/TwitterDemo.html">Twitter Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/WeaviateDemo.html">Weaviate Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/MakeDemo.html">Make Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../data_connectors/deplot/DeplotReader.html">Deplot Reader Demo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/loading/documents_and_nodes/root.html">Documents / Nodes</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/><label for="toctree-checkbox-41"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/loading/documents_and_nodes/usage_documents.html">Defining and Customizing Documents</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/><label for="toctree-checkbox-42"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/loading/documents_and_nodes/usage_nodes.html">Defining and Customizing Nodes</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/loading/node_parsers/root.html">Node Parser Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/><label for="toctree-checkbox-43"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/loading/node_parsers/modules.html">Node Parser Modules</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/loading/ingestion_pipeline/root.html">Ingestion Pipeline</a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/><label for="toctree-checkbox-44"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/loading/ingestion_pipeline/transformations.html">Transformations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../module_guides/indexing/indexing.html">Indexing</a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/><label for="toctree-checkbox-45"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../module_guides/indexing/index_guide.html">How Each Index Works</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/indexing/usage_pattern.html">Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/><label for="toctree-checkbox-46"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/indexing/metadata_extraction.html">Metadata Extraction</a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/><label for="toctree-checkbox-47"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../metadata_extraction/MetadataExtractionSEC.html">Extracting Metadata for Better Document Indexing and Understanding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../metadata_extraction/MetadataExtraction_LLMSurvey.html">Automated Metadata Extraction for Better Retrieval + Synthesis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../metadata_extraction/EntityExtractionClimate.html">Entity Metadata Extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../metadata_extraction/MarvinMetadataExtractorDemo.html">Metadata Extraction and Augmentation w/ Marvin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../metadata_extraction/PydanticExtractor.html">Pydantic Extractor</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/indexing/document_management.html">Document Management</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/indexing/modules.html">Module Guides</a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" role="switch" type="checkbox"/><label for="toctree-checkbox-48"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/indexing/vector_store_guide.html">Vector Store Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/indexing/index_guide.html">Summary Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/indexing/index_guide.html">Tree Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/indexing/index_guide.html">Keyword Table Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/KnowledgeGraphDemo.html">Knowledge Graph Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/KnowledgeGraphIndex_vs_VectorStoreIndex_vs_CustomIndex_combined.html">Custom Retriever combining KG Index and VectorStore Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/knowledge_graph_rag_query_engine.html">Knowledge Graph RAG Query Engine</a></li>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/drive/1G6pcR0pXvSkdMQlAK_P-IrYgo-_staxd?usp=sharing">REBEL + Knowledge Graph Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/knowledge_graph2.html">REBEL + Wikipedia Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/struct_indices/SQLIndexDemo.html">SQL Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/struct_indices/duckdb_sql_query.html">SQL Query Engine with LlamaIndex + DuckDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/doc_summary/DocSummary.html">Document Summary Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../objects/object_index.html">The <code class="docutils literal notranslate"><span class="pre">ObjectIndex</span></code> Class</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/indexing/composability.html">Composability</a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" role="switch" type="checkbox"/><label for="toctree-checkbox-49"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../composable_indices/ComposableIndices-Prior.html">Composable Graph Basic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../composable_indices/ComposableIndices-Weaviate.html">Composable Graph with Weaviate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../composable_indices/ComposableIndices.html">Composable Graph</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../module_guides/storing/storing.html">Storing</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" role="switch" type="checkbox"/><label for="toctree-checkbox-50"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../module_guides/storing/customization.html">Customizing Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../module_guides/storing/save_load.html">Persisting &amp; Loading Data</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../../module_guides/storing/vector_stores.html">Vector Stores</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" role="switch" type="checkbox"/><label for="toctree-checkbox-51"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="AstraDBIndexDemo.html">Astra DB</a></li>
<li class="toctree-l3"><a class="reference internal" href="AsyncIndexCreationDemo.html">Simple Vector Store - Async Index Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="AzureCosmosDBMongoDBvCoreDemo.html">Azure CosmosDB MongoDB Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="CassandraIndexDemo.html">Cassandra Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="ChromaIndexDemo.html">Chroma</a></li>
<li class="toctree-l3"><a class="reference internal" href="CognitiveSearchIndexDemo.html">Azure Cognitive Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="CognitiveSearchIndexDemo.html#basic-example">Basic Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="CognitiveSearchIndexDemo.html#create-index-if-it-does-not-exist">Create Index (if it does not exist)</a></li>
<li class="toctree-l3"><a class="reference internal" href="CognitiveSearchIndexDemo.html#use-existing-index">Use Existing Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="CognitiveSearchIndexDemo.html#adding-a-document-to-existing-index">Adding a document to existing index</a></li>
<li class="toctree-l3"><a class="reference internal" href="CognitiveSearchIndexDemo.html#filtering">Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="DashvectorIndexDemo.html">DashVector Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="DeepLakeIndexDemo.html">DeepLake Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="DocArrayHnswIndexDemo.html">DocArray Hnsw Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="DocArrayInMemoryIndexDemo.html">DocArray InMemory Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="EpsillaIndexDemo.html">Epsilla Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="LanceDBIndexDemo.html">LanceDB Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="MetalIndexDemo.html">Metal Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="MilvusIndexDemo.html">Milvus Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="MyScaleIndexDemo.html">MyScale Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="ElasticsearchIndexDemo.html">Elasticsearch Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="FaissIndexDemo.html">Faiss Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="MongoDBAtlasVectorSearch.html">MongoDB Atlas</a></li>
<li class="toctree-l3"><a class="reference internal" href="Neo4jVectorDemo.html">Neo4j vector store</a></li>
<li class="toctree-l3"><a class="reference internal" href="OpensearchDemo.html">Opensearch Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="PineconeIndexDemo.html">Pinecone Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="PineconeIndexDemo-Hybrid.html">Pinecone Vector Store - Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="PGVectoRsDemo.html">pgvecto.rs</a></li>
<li class="toctree-l3"><a class="reference internal" href="postgres.html">Postgres Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="RedisIndexDemo.html">Redis Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="RedisIndexDemo.html#query-the-data">Query the data</a></li>
<li class="toctree-l3"><a class="reference internal" href="RedisIndexDemo.html#working-with-metadata">Working with Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="QdrantIndexDemo.html">Qdrant Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="RocksetIndexDemo.html">Rockset Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="SimpleIndexDemo.html">Simple Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="SupabaseVectorIndexDemo.html">Supabase Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="TairIndexDemo.html">Tair Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="TencentVectorDBIndexDemo.html">Tencent Cloud VectorDB</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Timescale Vector Store (PostgreSQL)</a></li>
<li class="toctree-l3"><a class="reference internal" href="WeaviateIndexDemo.html">Weaviate Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="WeaviateIndexDemo-Hybrid.html">Weaviate Vector Store - Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="ZepIndexDemo.html">Zep Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="ZepIndexDemo.html#create-a-zep-vector-store-and-index">Create a Zep Vector Store and Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="ZepIndexDemo.html#querying-with-metadata-filters">Querying with Metadata filters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../module_guides/storing/docstores.html">Document Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../module_guides/storing/index_stores.html">Index Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../module_guides/storing/kv_stores.html">Key-Value Stores</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../community/integrations/graph_stores.html">Using Graph Stores</a><input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" role="switch" type="checkbox"/><label for="toctree-checkbox-52"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/Neo4jKGIndexDemo.html">Neo4j Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/NebulaGraphKGIndexDemo.html">Nebula Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/KuzuGraphDemo.html">Kuzu Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/FalkorDBGraphDemo.html">FalkorDB Graph Store</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../module_guides/querying/querying.html">Querying</a><input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" role="switch" type="checkbox"/><label for="toctree-checkbox-53"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/deploying/query_engine/root.html">Query Engine</a><input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" role="switch" type="checkbox"/><label for="toctree-checkbox-54"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/deploying/query_engine/usage_pattern.html">Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-55" name="toctree-checkbox-55" role="switch" type="checkbox"/><label for="toctree-checkbox-55"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../module_guides/deploying/query_engine/response_modes.html">Response Modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../module_guides/deploying/query_engine/streaming.html">Streaming</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/deploying/query_engine/modules.html">Module Guides</a><input class="toctree-checkbox" id="toctree-checkbox-56" name="toctree-checkbox-56" role="switch" type="checkbox"/><label for="toctree-checkbox-56"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/custom_query_engine.html">Custom Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/CustomRetrievers.html">Retriever Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index_structs/struct_indices/SQLIndexDemo.html">Text-to-SQL Guide (Query Engine + Retriever)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/json_query_engine.html">JSON Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/pandas_query_engine.html">Pandas Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/knowledge_graph_rag_query_engine.html">Knowledge Graph RAG Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/RouterQueryEngine.html">Router Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/RetrieverRouterQueryEngine.html">Retriever Router Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/JointQASummary.html">Joint QA Summary Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_transformations/SimpleIndexDemo-multistep.html">Multi-Step Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/SQLRouterQueryEngine.html">SQL Router Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/SQLAutoVectorQueryEngine.html">SQL Auto Vector Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/SQLJoinQueryEngine.html">SQL Join Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/pgvector_sql_query_engine.html">[Beta] Text-to-SQL with PGVector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index_structs/struct_indices/duckdb_sql_query.html">SQL Query Engine with LlamaIndex + DuckDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../evaluation/RetryQuery.html">Retry Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/citation_query_engine.html">CitationQueryEngine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/pdf_tables/recursive_retriever.html">Recursive Retriever + Query Engine Demo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/sec_tables/tesla_10q_table.html">Joint Tabular/Semantic QA over Tesla 10K</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/ensemble_query_engine.html">Ensemble Query Engine Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/multi_document_agents.html">Multi-Document Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/multi_document_agents-v1.html">Multi-Document Agents (V1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/flare_query_engine.html">FLARE Query Engine</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/deploying/query_engine/supporting_modules.html">Supporting Modules</a><input class="toctree-checkbox" id="toctree-checkbox-57" name="toctree-checkbox-57" role="switch" type="checkbox"/><label for="toctree-checkbox-57"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../optimizing/advanced_retrieval/query_transformations.html">Query Transformations</a><input class="toctree-checkbox" id="toctree-checkbox-58" name="toctree-checkbox-58" role="switch" type="checkbox"/><label for="toctree-checkbox-58"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../query_transformations/HyDEQueryTransformDemo.html">HyDE Query Transform</a></li>
<li class="toctree-l5"><a class="reference internal" href="../query_transformations/SimpleIndexDemo-multistep.html">Multi-Step Query Engine</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/deploying/chat_engines/root.html">Chat Engine</a><input class="toctree-checkbox" id="toctree-checkbox-59" name="toctree-checkbox-59" role="switch" type="checkbox"/><label for="toctree-checkbox-59"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/deploying/chat_engines/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/deploying/chat_engines/modules.html">Module Guides</a><input class="toctree-checkbox" id="toctree-checkbox-60" name="toctree-checkbox-60" role="switch" type="checkbox"/><label for="toctree-checkbox-60"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../chat_engine/chat_engine_react.html">ReAct Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../chat_engine/chat_engine_openai.html">OpenAI Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../chat_engine/chat_engine_condense_question.html">Condense Question Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../chat_engine/chat_engine_context.html">Context Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../chat_engine/chat_engine_condense_plus_context.html">Context Plus Condense Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../chat_engine/chat_engine_repl.html">Simple Chat Engine</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/deploying/agents/root.html">Data Agents</a><input class="toctree-checkbox" id="toctree-checkbox-61" name="toctree-checkbox-61" role="switch" type="checkbox"/><label for="toctree-checkbox-61"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/deploying/agents/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/deploying/agents/modules.html">Module Guides</a><input class="toctree-checkbox" id="toctree-checkbox-62" name="toctree-checkbox-62" role="switch" type="checkbox"/><label for="toctree-checkbox-62"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../agent/openai_agent.html">Build your own OpenAI Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/openai_agent_with_query_engine.html">OpenAI Agent with Query Engine Tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/openai_agent_retrieval.html">Retrieval-Augmented OpenAI Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/openai_agent_query_cookbook.html">OpenAI Agent + Query Engine Experimental Cookbook</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/openai_agent_query_plan.html">OpenAI Agent Query Planning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/openai_agent_context_retrieval.html">Context-Augmented OpenAI Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/multi_document_agents.html">Multi-Document Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/agent_builder.html">GPT Builder Demo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/openai_agent_parallel_function_calling.html">Single-Turn Multi-Function Calling OpenAI Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/openai_assistant_agent.html">OpenAI Assistant Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/openai_retrieval_benchmark.html">Benchmarking OpenAI Retrieval API (through Assistant Agent)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/openai_assistant_query_cookbook.html">OpenAI Assistant Advanced Retrieval Cookbook</a></li>
<li class="toctree-l4"><a class="reference internal" href="../agent/react_agent_with_query_engine.html">ReAct Agent with Query Engine Tools</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/deploying/agents/tools/root.html">Tools</a><input class="toctree-checkbox" id="toctree-checkbox-63" name="toctree-checkbox-63" role="switch" type="checkbox"/><label for="toctree-checkbox-63"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../module_guides/deploying/agents/tools/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../module_guides/deploying/agents/tools/llamahub_tools_guide.html">LlamaHub Tools Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/querying/retriever/root.html">Retriever</a><input class="toctree-checkbox" id="toctree-checkbox-64" name="toctree-checkbox-64" role="switch" type="checkbox"/><label for="toctree-checkbox-64"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/querying/retriever/retriever_modes.html">Retriever Modes</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/querying/retriever/retrievers.html">Retriever Modules</a><input class="toctree-checkbox" id="toctree-checkbox-65" name="toctree-checkbox-65" role="switch" type="checkbox"/><label for="toctree-checkbox-65"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/CustomRetrievers.html">Define Custom Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../retrievers/bm25_retriever.html">BM25 Hybrid Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../retrievers/simple_fusion.html">Simple Fusion Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../retrievers/reciprocal_rerank_fusion.html">Reciprocal Rerank Fusion Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index_structs/knowledge_graph/KnowledgeGraphIndex_vs_VectorStoreIndex_vs_CustomIndex_combined.html">Custom Retriever (KG Index and Vector Store Index)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/knowledge_graph_rag_query_engine.html">Knowledge Graph RAG Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../retrievers/simple_fusion.html">Simple Fusion Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../retrievers/reciprocal_rerank_fusion.html">Reciprocal Rerank Fusion Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="chroma_auto_retriever.html">Auto-Retrieval (with Chroma)</a></li>
<li class="toctree-l4"><a class="reference internal" href="BagelAutoRetriever.html">Auto-Retrieval (with BagelDB)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../query_engine/pdf_tables/recursive_retriever.html">Recursive Retriever + Query Engine Demo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../retrievers/router_retriever.html">Router Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../retrievers/ensemble_retrieval.html">Ensemble Retrieval Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../retrievers/auto_merging_retriever.html">Auto Merging Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../retrievers/recursive_retriever_nodes.html">Recursive Retriever + Node References</a></li>
<li class="toctree-l4"><a class="reference internal" href="../retrievers/recurisve_retriever_nodes_braintrust.html">Recursive Retriever + Node References + Braintrust</a></li>
<li class="toctree-l4"><a class="reference internal" href="../node_postprocessor/MetadataReplacementDemo.html">Metadata Replacement + Node Sentence Window</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index_structs/struct_indices/SQLIndexDemo.html">Text-to-SQL Guide (Query Engine + Retriever)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../retrievers/deep_memory.html">DeepMemory (Activeloop)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/querying/response_synthesizers/root.html">Response Synthesizer</a><input class="toctree-checkbox" id="toctree-checkbox-66" name="toctree-checkbox-66" role="switch" type="checkbox"/><label for="toctree-checkbox-66"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/querying/response_synthesizers/response_synthesizers.html">Response Synthesis Modules</a><input class="toctree-checkbox" id="toctree-checkbox-67" name="toctree-checkbox-67" role="switch" type="checkbox"/><label for="toctree-checkbox-67"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../response_synthesizers/refine.html">Refine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../response_synthesizers/structured_refine.html">Refine with Structured Answer Filtering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../response_synthesizers/tree_summarize.html">Tree Summarize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../response_synthesizers/custom_prompt_synthesizer.html">Pydantic Tree Summarize</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/querying/router/root.html">Routers</a><input class="toctree-checkbox" id="toctree-checkbox-68" name="toctree-checkbox-68" role="switch" type="checkbox"/><label for="toctree-checkbox-68"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/RouterQueryEngine.html">Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/RetrieverRouterQueryEngine.html">Retriever Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/SQLRouterQueryEngine.html">SQL Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../retrievers/router_retriever.html">Router Retriever</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/querying/node_postprocessors/root.html">Node Postprocessor</a><input class="toctree-checkbox" id="toctree-checkbox-69" name="toctree-checkbox-69" role="switch" type="checkbox"/><label for="toctree-checkbox-69"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/querying/node_postprocessors/node_postprocessors.html">Node Postprocessor Modules</a><input class="toctree-checkbox" id="toctree-checkbox-70" name="toctree-checkbox-70" role="switch" type="checkbox"/><label for="toctree-checkbox-70"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../node_postprocessor/OptimizerDemo.html">Sentence Embedding Optimizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../node_postprocessor/CohereRerank.html">Cohere Rerank</a></li>
<li class="toctree-l4"><a class="reference internal" href="../node_postprocessor/LLMReranker-Lyft-10k.html">LLM Reranker Demonstration (2021 Lyft 10-k)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../node_postprocessor/LLMReranker-Gatsby.html">LLM Reranker Demonstration (Great Gatsby)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../node_postprocessor/RecencyPostprocessorDemo.html">Recency Filtering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../node_postprocessor/TimeWeightedPostprocessorDemo.html">Time-Weighted Rerank</a></li>
<li class="toctree-l4"><a class="reference internal" href="../node_postprocessor/PII.html">PII Masking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../node_postprocessor/PrevNextPostprocessorDemo.html">Forward/Backward Augmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../node_postprocessor/MetadataReplacementDemo.html">Metadata Replacement + Node Sentence Window</a></li>
<li class="toctree-l4"><a class="reference internal" href="../node_postprocessor/LongContextReorder.html">LongContextReorder</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/querying/output_parser.html">Output Parsing Modules</a><input class="toctree-checkbox" id="toctree-checkbox-71" name="toctree-checkbox-71" role="switch" type="checkbox"/><label for="toctree-checkbox-71"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/GuardrailsDemo.html">Guardrails Output Parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/LangchainOutputParserDemo.html">Langchain Output Parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/guidance_pydantic_program.html">Guidance Pydantic Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/guidance_sub_question.html">Guidance for Sub-Question Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../output_parsing/openai_pydantic_program.html">OpenAI Pydantic Program</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../module_guides/observability/observability.html">Observability</a><input class="toctree-checkbox" id="toctree-checkbox-72" name="toctree-checkbox-72" role="switch" type="checkbox"/><label for="toctree-checkbox-72"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../callbacks/WandbCallbackHandler.html">Wandb Callback Handler</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/tracing/llama_index_tracing_tutorial.ipynb">Arize Phoenix Tracing Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../callbacks/OpenInferenceCallback.html">OpenInference Callback Handler + Arize Phoenix</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/llama_index_search_and_retrieval_tutorial.ipynb">Evaluating Search and Retrieval with Arize Phoenix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/trulens.html">Evaluating and Tracking with TruLens</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb">Quickstart Guide with LlamaIndex + TruLens</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/github/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb">Colab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../callbacks/HoneyHiveLlamaIndexTracer.html">HoneyHive LlamaIndex Tracer</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/observability/callbacks/root.html">Callbacks</a><input class="toctree-checkbox" id="toctree-checkbox-73" name="toctree-checkbox-73" role="switch" type="checkbox"/><label for="toctree-checkbox-73"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../callbacks/TokenCountingHandler.html">Token Counting Handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../callbacks/LlamaDebugHandler.html">Llama Debug Handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../callbacks/WandbCallbackHandler.html">Wandb Callback Handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../callbacks/AimCallback.html">Aim Callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../callbacks/OpenInferenceCallback.html">OpenInference Callback Handler + Arize Phoenix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../module_guides/observability/callbacks/token_counting_migration.html">Token Counting - Migration Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../module_guides/evaluating/root.html">Evaluating</a><input class="toctree-checkbox" id="toctree-checkbox-74" name="toctree-checkbox-74" role="switch" type="checkbox"/><label for="toctree-checkbox-74"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../module_guides/evaluating/usage_pattern.html">Usage Pattern (Response Evaluation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../module_guides/evaluating/usage_pattern_retrieval.html">Usage Pattern (Retrieval)</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/evaluating/modules.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-75" name="toctree-checkbox-75" role="switch" type="checkbox"/><label for="toctree-checkbox-75"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/faithfulness_eval.html">Faithfulness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/relevancy_eval.html">Relevancy Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/guideline_eval.html">Guideline Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/correctness_eval.html">Correctness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/semantic_similarity_eval.html">Embedding Similarity Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/Deepeval.html">LlamaIndex + DeepEval Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/QuestionGeneration.html">QuestionGeneration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/batch_eval.html">BatchEvalRunner - Running Multiple Evaluations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/multi_modal/multi_modal_rag_evaluation.html">Evaluating Multi-Modal RAG</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evaluation/retrieval/retriever_eval.html">Retrieval Evaluation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../module_guides/supporting_modules/supporting_modules.html">Supporting Modules</a><input class="toctree-checkbox" id="toctree-checkbox-76" name="toctree-checkbox-76" role="switch" type="checkbox"/><label for="toctree-checkbox-76"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../module_guides/supporting_modules/service_context.html">ServiceContext</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api_reference/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-77" name="toctree-checkbox-77" role="switch" type="checkbox"/><label for="toctree-checkbox-77"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/callbacks.html">Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/composability.html">Composability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/evaluation.html">Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/example_notebooks.html">Example Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/finetuning.html">Finetuning</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api_reference/indices.html">Indices</a><input class="toctree-checkbox" id="toctree-checkbox-78" name="toctree-checkbox-78" role="switch" type="checkbox"/><label for="toctree-checkbox-78"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/list.html">Summary Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/table.html">Table Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/tree.html">Tree Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/vector_store.html">Vector Store Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/struct_store.html">Structured Store Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/kg.html">Knowledge Graph Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/indices/empty.html">Empty Index</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/llm_predictor.html">LLM Predictors</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api_reference/llms.html">LLMs</a><input class="toctree-checkbox" id="toctree-checkbox-79" name="toctree-checkbox-79" role="switch" type="checkbox"/><label for="toctree-checkbox-79"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/openai.html">OpenAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/azure_openai.html">Azure OpenAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/huggingface.html">HuggingFaceLLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/langchain.html">LangChainLLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/anthropic.html">Anthropic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/gradient_base_model.html">Gradient Base Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/gradient_model_adapter.html">Gradient Model Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/litellm.html">LiteLLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/llama_cpp.html">LlamaCPP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/palm.html">PaLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/predibase.html">Predibase</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/replicate.html">Replicate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/xinference.html">XOrbits Xinference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/llms/openllm.html">OpenLLM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/memory.html">Memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/node_postprocessor.html">Node Postprocessor</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api_reference/node.html">Node</a><input class="toctree-checkbox" id="toctree-checkbox-80" name="toctree-checkbox-80" role="switch" type="checkbox"/><label for="toctree-checkbox-80"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.BaseComponent.html">BaseComponent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.BaseNode.html">BaseNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.Document.html">Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.ImageDocument.html">ImageDocument</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.ImageNode.html">ImageNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.IndexNode.html">IndexNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.MetadataMode.html">MetadataMode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.Node.html">Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.NodeRelationship.html">NodeRelationship</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.NodeWithScore.html">NodeWithScore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.ObjectType.html">ObjectType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.QueryBundle.html">QueryBundle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.RelatedNodeInfo.html">RelatedNodeInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.TextNode.html">TextNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.schema.TransformComponent.html">TransformComponent</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/playground.html">Playground</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/prompts.html">Prompt Templates</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api_reference/query.html">Querying an Index</a><input class="toctree-checkbox" id="toctree-checkbox-81" name="toctree-checkbox-81" role="switch" type="checkbox"/><label for="toctree-checkbox-81"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/query/retrievers.html">Retrievers</a><input class="toctree-checkbox" id="toctree-checkbox-82" name="toctree-checkbox-82" role="switch" type="checkbox"/><label for="toctree-checkbox-82"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/empty.html">Empty Index Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/kg.html">Knowledge Graph Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/list.html">List Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/table.html">Keyword Table Retrievers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/tree.html">Tree Retrievers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/vector_store.html">Vector Store Retrievers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/retrievers/transform.html">Transform Retriever</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/query/response_synthesizer.html">Response Synthesizer</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/query/query_engines.html">Query Engines</a><input class="toctree-checkbox" id="toctree-checkbox-83" name="toctree-checkbox-83" role="switch" type="checkbox"/><label for="toctree-checkbox-83"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/graph_query_engine.html">Graph Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/multistep_query_engine.html">Multistep Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/retriever_query_engine.html">Retriever Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/transform_query_engine.html">Transform Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/router_query_engine.html">Router Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/retriever_router_query_engine.html">Retriever Router Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/sql_join_query_engine.html">SQL Join Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/flare_query_engine.html">Flare Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/citation_query_engine.html">Citation Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/sql_query_engine.html">SQL Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/query_engines/pandas_query_engine.html">Pandas Query Engine</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/query/chat_engines.html">Chat Engines</a><input class="toctree-checkbox" id="toctree-checkbox-84" name="toctree-checkbox-84" role="switch" type="checkbox"/><label for="toctree-checkbox-84"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/chat_engines/simple_chat_engine.html">Simple Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/chat_engines/condense_question_chat_engine.html">Condense Question Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/query/chat_engines/condense_plus_context_chat_engine.html">Condense Plus Context Chat Engine</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/query/query_bundle.html">Query Bundle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/query/query_transform.html">Query Transform</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api_reference/readers.html">Data Connectors</a><input class="toctree-checkbox" id="toctree-checkbox-85" name="toctree-checkbox-85" role="switch" type="checkbox"/><label for="toctree-checkbox-85"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.download_loader.html">download_loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.WikipediaReader.html">WikipediaReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.YoutubeTranscriptReader.html">YoutubeTranscriptReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.SimpleDirectoryReader.html">SimpleDirectoryReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.JSONReader.html">JSONReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.SimpleMongoReader.html">SimpleMongoReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.NotionPageReader.html">NotionPageReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.GoogleDocsReader.html">GoogleDocsReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.MetalReader.html">MetalReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.DiscordReader.html">DiscordReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.SlackReader.html">SlackReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.WeaviateReader.html">WeaviateReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.PineconeReader.html">PineconeReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.PsychicReader.html">PsychicReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.QdrantReader.html">QdrantReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.MilvusReader.html">MilvusReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.ChromaReader.html">ChromaReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.DeepLakeReader.html">DeepLakeReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.FaissReader.html">FaissReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.MyScaleReader.html">MyScaleReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.StringIterableReader.html">StringIterableReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.SimpleWebPageReader.html">SimpleWebPageReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.BeautifulSoupWebReader.html">BeautifulSoupWebReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.TrafilaturaWebReader.html">TrafilaturaWebReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.RssReader.html">RssReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.MakeWrapper.html">MakeWrapper</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.TwitterTweetReader.html">TwitterTweetReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.ObsidianReader.html">ObsidianReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.GithubRepositoryReader.html">GithubRepositoryReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.MboxReader.html">MboxReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.ElasticsearchReader.html">ElasticsearchReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.SteamshipFileReader.html">SteamshipFileReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.ChatGPTRetrievalPluginReader.html">ChatGPTRetrievalPluginReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.BagelReader.html">BagelReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.HTMLTagReader.html">HTMLTagReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.ReaderConfig.html">ReaderConfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.PDFReader.html">PDFReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/llama_index.readers.DashVectorReader.html">DashVectorReader</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/response.html">Response</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api_reference/service_context.html">Service Context</a><input class="toctree-checkbox" id="toctree-checkbox-86" name="toctree-checkbox-86" role="switch" type="checkbox"/><label for="toctree-checkbox-86"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html">Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#openaiembedding">OpenAIEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#huggingfaceembedding">HuggingFaceEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#optimumembedding">OptimumEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#instructorembedding">InstructorEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#langchainembedding">LangchainEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#googleunivsentencoderembedding">GoogleUnivSentEncoderEmbedding</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/service_context/node_parser.html">Node Parser</a><input class="toctree-checkbox" id="toctree-checkbox-87" name="toctree-checkbox-87" role="switch" type="checkbox"/><label for="toctree-checkbox-87"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.get_leaf_nodes.html">get_leaf_nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.get_root_nodes.html">get_root_nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.TokenTextSplitter.html">TokenTextSplitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.SentenceSplitter.html">SentenceSplitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.CodeSplitter.html">CodeSplitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.SimpleFileNodeParser.html">SimpleFileNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.HTMLNodeParser.html">HTMLNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.MarkdownNodeParser.html">MarkdownNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.JSONNodeParser.html">JSONNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.SentenceWindowNodeParser.html">SentenceWindowNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.NodeParser.html">NodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.HierarchicalNodeParser.html">HierarchicalNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.TextSplitter.html">TextSplitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.MetadataAwareTextSplitter.html">MetadataAwareTextSplitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.LangchainNodeParser.html">LangchainNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.UnstructuredElementNodeParser.html">UnstructuredElementNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.node_parser.SimpleNodeParser.html">SimpleNodeParser</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/service_context/prompt_helper.html">PromptHelper</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/llms.html">LLMs</a><input class="toctree-checkbox" id="toctree-checkbox-88" name="toctree-checkbox-88" role="switch" type="checkbox"/><label for="toctree-checkbox-88"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/openai.html">OpenAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/azure_openai.html">Azure OpenAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/huggingface.html">HuggingFaceLLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/langchain.html">LangChainLLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/anthropic.html">Anthropic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/gradient_base_model.html">Gradient Base Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/gradient_model_adapter.html">Gradient Model Adapter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/litellm.html">LiteLLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/llama_cpp.html">LlamaCPP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/palm.html">PaLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/predibase.html">Predibase</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/replicate.html">Replicate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/xinference.html">XOrbits Xinference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api_reference/llms/openllm.html">OpenLLM</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html">Embeddings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#openaiembedding">OpenAIEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#huggingfaceembedding">HuggingFaceEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#optimumembedding">OptimumEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#instructorembedding">InstructorEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#langchainembedding">LangchainEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/service_context/embeddings.html#googleunivsentencoderembedding">GoogleUnivSentEncoderEmbedding</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api_reference/storage.html">Storage Context</a><input class="toctree-checkbox" id="toctree-checkbox-89" name="toctree-checkbox-89" role="switch" type="checkbox"/><label for="toctree-checkbox-89"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/storage/docstore.html">Document Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/storage/index_store.html">Index Store</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api_reference/storage/vector_store.html">Vector Store</a><input class="toctree-checkbox" id="toctree-checkbox-90" name="toctree-checkbox-90" role="switch" type="checkbox"/><label for="toctree-checkbox-90"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.ElasticsearchStore.html">ElasticsearchStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.SimpleVectorStore.html">SimpleVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.RedisVectorStore.html">RedisVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.RocksetVectorStore.html">RocksetVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.FaissVectorStore.html">FaissVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.PineconeVectorStore.html">PineconeVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.WeaviateVectorStore.html">WeaviateVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.QdrantVectorStore.html">QdrantVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.CassandraVectorStore.html">CassandraVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.ChromaVectorStore.html">ChromaVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.MetalVectorStore.html">MetalVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.OpensearchVectorStore.html">OpensearchVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.OpensearchVectorClient.html">OpensearchVectorClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.ChatGPTRetrievalPluginClient.html">ChatGPTRetrievalPluginClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.MilvusVectorStore.html">MilvusVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.DeepLakeVectorStore.html">DeepLakeVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.MyScaleVectorStore.html">MyScaleVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.LanceDBVectorStore.html">LanceDBVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.TairVectorStore.html">TairVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.DocArrayInMemoryVectorStore.html">DocArrayInMemoryVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.DocArrayHnswVectorStore.html">DocArrayHnswVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.SupabaseVectorStore.html">SupabaseVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.PGVectorStore.html">PGVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.PGVectoRsStore.html">PGVectoRsStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.TimescaleVectorStore.html">TimescaleVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.ZepVectorStore.html">ZepVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.AwaDBVectorStore.html">AwaDBVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.BagelVectorStore.html">BagelVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.Neo4jVectorStore.html">Neo4jVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.CognitiveSearchVectorStore.html">CognitiveSearchVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.EpsillaVectorStore.html">EpsillaVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.SingleStoreVectorStore.html">SingleStoreVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.VectorStoreQuery.html">VectorStoreQuery</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.VectorStoreQueryResult.html">VectorStoreQueryResult</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.MetadataFilters.html">MetadataFilters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.DashVectorStore.html">DashVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.TencentVectorDB.html">TencentVectorDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.AstraDBVectorStore.html">AstraDBVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.AzureCosmosDBMongoDBVectorSearch.html">AzureCosmosDBMongoDBVectorSearch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/llama_index.vector_stores.LanternVectorStore.html">LanternVectorStore</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/storage/kv_store.html">KV Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_reference/storage/indices_save_load.html">Loading Indices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api_reference/struct_store.html">Structured Index Configuration</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../community/integrations.html">Integrations</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-91" name="toctree-checkbox-91" role="switch" type="checkbox"/><label for="toctree-checkbox-91"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../../community/llama_packs/root.html">Llama Packs ðŸ¦™ðŸ“¦</a><input class="toctree-checkbox" id="toctree-checkbox-92" name="toctree-checkbox-92" role="switch" type="checkbox"/><label for="toctree-checkbox-92"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../llama_hub/llama_packs_example.html">Llama Packs Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../llama_hub/llama_pack_resume.html">Llama Pack - Resume Screener ðŸ“„</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../module_guides/observability/observability.html">Observability</a><input class="toctree-checkbox" id="toctree-checkbox-93" name="toctree-checkbox-93" role="switch" type="checkbox"/><label for="toctree-checkbox-93"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../callbacks/WandbCallbackHandler.html">Wandb Callback Handler</a></li>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/tracing/llama_index_tracing_tutorial.ipynb">Arize Phoenix Tracing Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="../callbacks/OpenInferenceCallback.html">OpenInference Callback Handler + Arize Phoenix</a></li>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/llama_index_search_and_retrieval_tutorial.ipynb">Evaluating Search and Retrieval with Arize Phoenix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../community/integrations/trulens.html">Evaluating and Tracking with TruLens</a></li>
<li class="toctree-l3"><a class="reference external" href="https://github.com/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb">Quickstart Guide with LlamaIndex + TruLens</a></li>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/github/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb">Colab</a></li>
<li class="toctree-l3"><a class="reference internal" href="../callbacks/HoneyHiveLlamaIndexTracer.html">HoneyHive LlamaIndex Tracer</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../module_guides/observability/callbacks/root.html">Callbacks</a><input class="toctree-checkbox" id="toctree-checkbox-94" name="toctree-checkbox-94" role="switch" type="checkbox"/><label for="toctree-checkbox-94"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../callbacks/TokenCountingHandler.html">Token Counting Handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../callbacks/LlamaDebugHandler.html">Llama Debug Handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../callbacks/WandbCallbackHandler.html">Wandb Callback Handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../callbacks/AimCallback.html">Aim Callback</a></li>
<li class="toctree-l4"><a class="reference internal" href="../callbacks/OpenInferenceCallback.html">OpenInference Callback Handler + Arize Phoenix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../module_guides/observability/callbacks/token_counting_migration.html">Token Counting - Migration Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/graphsignal.html">Tracing with Graphsignal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/trulens.html">Evaluating and Tracking with TruLens</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/deepeval.html">Unit Testing LLMs With DeepEval</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/guidance.html">Guidance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/lmformatenforcer.html">LM Format Enforcer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../output_parsing/GuardrailsDemo.html">Guardrails</a></li>
<li class="toctree-l2"><a class="reference internal" href="../output_parsing/openai_pydantic_program.html">OpenAI Function Calling</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../../community/integrations/vector_stores.html">Using Vector Stores</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-95" name="toctree-checkbox-95" role="switch" type="checkbox"/><label for="toctree-checkbox-95"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="AstraDBIndexDemo.html">Astra DB</a></li>
<li class="toctree-l3"><a class="reference internal" href="AsyncIndexCreationDemo.html">Simple Vector Store - Async Index Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="AzureCosmosDBMongoDBvCoreDemo.html">Azure CosmosDB MongoDB Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="CassandraIndexDemo.html">Cassandra Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="ChromaIndexDemo.html">Chroma</a></li>
<li class="toctree-l3"><a class="reference internal" href="CognitiveSearchIndexDemo.html">Azure Cognitive Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="CognitiveSearchIndexDemo.html#basic-example">Basic Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="CognitiveSearchIndexDemo.html#create-index-if-it-does-not-exist">Create Index (if it does not exist)</a></li>
<li class="toctree-l3"><a class="reference internal" href="CognitiveSearchIndexDemo.html#use-existing-index">Use Existing Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="CognitiveSearchIndexDemo.html#adding-a-document-to-existing-index">Adding a document to existing index</a></li>
<li class="toctree-l3"><a class="reference internal" href="CognitiveSearchIndexDemo.html#filtering">Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="DashvectorIndexDemo.html">DashVector Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="DeepLakeIndexDemo.html">DeepLake Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="DocArrayHnswIndexDemo.html">DocArray Hnsw Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="DocArrayInMemoryIndexDemo.html">DocArray InMemory Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="EpsillaIndexDemo.html">Epsilla Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="LanceDBIndexDemo.html">LanceDB Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="MetalIndexDemo.html">Metal Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="MilvusIndexDemo.html">Milvus Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="MyScaleIndexDemo.html">MyScale Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="ElasticsearchIndexDemo.html">Elasticsearch Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="FaissIndexDemo.html">Faiss Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="MongoDBAtlasVectorSearch.html">MongoDB Atlas</a></li>
<li class="toctree-l3"><a class="reference internal" href="Neo4jVectorDemo.html">Neo4j vector store</a></li>
<li class="toctree-l3"><a class="reference internal" href="OpensearchDemo.html">Opensearch Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="PineconeIndexDemo.html">Pinecone Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="PineconeIndexDemo-Hybrid.html">Pinecone Vector Store - Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="PGVectoRsDemo.html">pgvecto.rs</a></li>
<li class="toctree-l3"><a class="reference internal" href="postgres.html">Postgres Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="RedisIndexDemo.html">Redis Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="RedisIndexDemo.html#query-the-data">Query the data</a></li>
<li class="toctree-l3"><a class="reference internal" href="RedisIndexDemo.html#working-with-metadata">Working with Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="QdrantIndexDemo.html">Qdrant Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="RocksetIndexDemo.html">Rockset Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="SimpleIndexDemo.html">Simple Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="SupabaseVectorIndexDemo.html">Supabase Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="TairIndexDemo.html">Tair Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="TencentVectorDBIndexDemo.html">Tencent Cloud VectorDB</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Timescale Vector Store (PostgreSQL)</a></li>
<li class="toctree-l3"><a class="reference internal" href="WeaviateIndexDemo.html">Weaviate Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="WeaviateIndexDemo-Hybrid.html">Weaviate Vector Store - Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="ZepIndexDemo.html">Zep Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="ZepIndexDemo.html#create-a-zep-vector-store-and-index">Create a Zep Vector Store and Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="ZepIndexDemo.html#querying-with-metadata-filters">Querying with Metadata filters</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../community/integrations/graph_stores.html">Using Graph Stores</a><input class="toctree-checkbox" id="toctree-checkbox-96" name="toctree-checkbox-96" role="switch" type="checkbox"/><label for="toctree-checkbox-96"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/Neo4jKGIndexDemo.html">Neo4j Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/NebulaGraphKGIndexDemo.html">Nebula Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../query_engine/knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/KuzuGraphDemo.html">Kuzu Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index_structs/knowledge_graph/FalkorDBGraphDemo.html">FalkorDB Graph Store</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../community/integrations/managed_indices.html">Using Managed Indices</a><input class="toctree-checkbox" id="toctree-checkbox-97" name="toctree-checkbox-97" role="switch" type="checkbox"/><label for="toctree-checkbox-97"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../managed/vectaraDemo.html">Vectara Managed Index</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/using_with_langchain.html">Using with Langchain ðŸ¦œðŸ”—</a></li>
<li class="toctree-l2"><a class="reference external" href="https://blog.streamlit.io/build-a-chatbot-with-custom-data-sources-powered-by-llamaindex/">Streamlit</a></li>
<li class="toctree-l2"><a class="reference external" href="https://docs.chainlit.io/integrations/llama-index">Chainlit</a></li>
<li class="toctree-l2"><a class="reference external" href="https://www.anyscale.com/blog/build-and-scale-a-powerful-query-engine-with-llamaindex-ray">LlamaIndex + Ray</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/chatgpt_plugins.html">ChatGPT Plugin Integrations</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/poe-platform/poe-protocol/tree/main/llama_poe">Poe</a></li>
<li class="toctree-l2"><a class="reference external" href="https://airbyte.com/tutorials/airbyte-and-llamaindex-elt-and-chat-with-your-data-warehouse-without-writing-sql">Airbyte</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/integrations/fleet_libraries_context.html">Fleet Context Embeddings - Building a Hybrid Search Engine for the Llamaindex Library</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../community/frequently_asked_questions.html">Frequently Asked Questions (FAQ)</a><input class="toctree-checkbox" id="toctree-checkbox-98" name="toctree-checkbox-98" role="switch" type="checkbox"/><label for="toctree-checkbox-98"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../community/faq/llms.html">Large Language Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/faq/embeddings.html">Embeddings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/faq/vector_database.html">Vector Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/faq/query_engines.html">Query Engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/faq/chat_engines.html">Chat Engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/faq/documents_and_nodes.html">Documents and Nodes</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/contributing.html">Contributing to LlamaIndex</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/documentation.html">Documentation Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../changes/changelog.html">ChangeLog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes/deprecated_terms.html">Deprecated Terms</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <p><a href="https://colab.research.google.com/github/run-llama/llama_index/blob/main/docs/examples/vector_stores/Timescalevector.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
<div class="section" id="timescale-vector-store-postgresql">
<h1>Timescale Vector Store (PostgreSQL)<a class="headerlink" href="#timescale-vector-store-postgresql" title="Permalink to this heading">ïƒ</a></h1>
<p>This notebook shows how to use the Postgres vector store <code class="docutils literal notranslate"><span class="pre">TimescaleVector</span></code> to store and query vector embeddings.</p>
<div class="section" id="what-is-timescale-vector">
<h2>What is Timescale Vector?<a class="headerlink" href="#what-is-timescale-vector" title="Permalink to this heading">ïƒ</a></h2>
<p><strong><a class="reference external" href="https://www.timescale.com/ai">Timescale Vector</a> is PostgreSQL++ for AI applications.</strong></p>
<p>Timescale Vector enables you to efficiently store and query millions of vector embeddings in <code class="docutils literal notranslate"><span class="pre">PostgreSQL</span></code>.</p>
<ul class="simple">
<li><p>Enhances <code class="docutils literal notranslate"><span class="pre">pgvector</span></code> with faster and more accurate similarity search on millions of vectors via DiskANN inspired indexing algorithm.</p></li>
<li><p>Enables fast time-based vector search via automatic time-based partitioning and indexing.</p></li>
<li><p>Provides a familiar SQL interface for querying vector embeddings and relational data.</p></li>
</ul>
<p>Timescale Vector scales with you from POC to production:</p>
<ul class="simple">
<li><p>Simplifies operations by enabling you to store relational metadata, vector embeddings, and time-series data in a single database.</p></li>
<li><p>Benefits from rock-solid PostgreSQL foundation with enterprise-grade feature liked streaming backups and replication, high-availability and row-level security.</p></li>
<li><p>Enables a worry-free experience with enterprise-grade security and compliance.</p></li>
</ul>
</div>
<div class="section" id="how-to-use-timescale-vector">
<h2>How to use Timescale Vector<a class="headerlink" href="#how-to-use-timescale-vector" title="Permalink to this heading">ïƒ</a></h2>
<p>Timescale Vector is available on <a class="reference external" href="https://www.timescale.com/ai">Timescale</a>, the cloud PostgreSQL platform. (There is no self-hosted version at this time.)</p>
<p><strong>LlamaIndex users get a 90-day free trial for Timescale Vector.</strong></p>
<ul class="simple">
<li><p>To get started, <a class="reference external" href="https://console.cloud.timescale.com/signup?utm_campaign=vectorlaunch&amp;amp;utm_source=llamaindex&amp;amp;utm_medium=referral">signup</a> to Timescale, create a new database and follow this notebook!</p></li>
<li><p>See the <a class="reference external" href="https://www.timescale.com/blog/how-we-made-postgresql-the-best-vector-database/?utm_campaign=vectorlaunch&amp;amp;utm_source=llamaindex&amp;amp;utm_medium=referral">Timescale Vector explainer blog</a> for details and performance benchmarks.</p></li>
<li><p>See the <a class="reference external" href="https://github.com/timescale/python-vector">installation instructions</a> for more details on using Timescale Vector in python.</p></li>
</ul>
</div>
<div class="section" id="setup">
<h2>0. Setup<a class="headerlink" href="#setup" title="Permalink to this heading">ïƒ</a></h2>
<p>Letâ€™s import everything weâ€™ll need for this notebook.</p>
<p>If youâ€™re opening this Notebook on colab, you will probably need to install LlamaIndex ðŸ¦™.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>llama-index
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import logging</span>
<span class="c1"># import sys</span>

<span class="c1"># Uncomment to see debug logs</span>
<span class="c1"># logging.basicConfig(stream=sys.stdout, level=logging.DEBUG)</span>
<span class="c1"># logging.getLogger().addHandler(logging.StreamHandler(stream=sys.stdout))</span>

<span class="kn">import</span> <span class="nn">timescale_vector</span>
<span class="kn">from</span> <span class="nn">llama_index</span> <span class="kn">import</span> <span class="n">SimpleDirectoryReader</span><span class="p">,</span> <span class="n">StorageContext</span>
<span class="kn">from</span> <span class="nn">llama_index.indices.vector_store</span> <span class="kn">import</span> <span class="n">VectorStoreIndex</span>
<span class="kn">from</span> <span class="nn">llama_index.vector_stores</span> <span class="kn">import</span> <span class="n">TimescaleVectorStore</span>
<span class="kn">from</span> <span class="nn">llama_index.vector_stores.types</span> <span class="kn">import</span> <span class="n">VectorStoreQuery</span><span class="p">,</span> <span class="n">MetadataFilters</span>
<span class="kn">import</span> <span class="nn">textwrap</span>
<span class="kn">import</span> <span class="nn">openai</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="setup-openai-api-key">
<h3>Setup OpenAI API Key<a class="headerlink" href="#setup-openai-api-key" title="Permalink to this heading">ïƒ</a></h3>
<p>To create embeddings for documents loaded into the index, letâ€™s configure your OpenAI API key:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get openAI api key by reading local .env file</span>
<span class="c1"># The .env file should contain a line starting with `OPENAI_API_KEY=sk-`</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">load_dotenv</span><span class="p">,</span> <span class="n">find_dotenv</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">load_dotenv</span><span class="p">(</span><span class="n">find_dotenv</span><span class="p">())</span>

<span class="c1"># OR set it explicitly</span>
<span class="c1"># import os</span>
<span class="c1"># os.environ[&quot;OPENAI_API_KEY&quot;] = &quot;&lt;your key&gt;&quot;</span>
<span class="n">openai</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;OPENAI_API_KEY&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="create-a-postgresql-database-and-get-a-timescale-service-url">
<h3>Create a PostgreSQL database and get a Timescale service URL<a class="headerlink" href="#create-a-postgresql-database-and-get-a-timescale-service-url" title="Permalink to this heading">ïƒ</a></h3>
<p>You need a service url to connect to your Timescale database instance.</p>
<p>First, launch a new cloud database in <a class="reference external" href="https://console.cloud.timescale.com/signup?utm_campaign=vectorlaunch&amp;amp;utm_source=llamaindex&amp;amp;utm_medium=referral">Timescale</a> (sign up for free using the link above).</p>
<p>To connect to your cloud PostgreSQL database, youâ€™ll need your service URI, which can be found in the cheatsheet or <code class="docutils literal notranslate"><span class="pre">.env</span></code> file you downloaded after creating a new database.</p>
<p>The URI will look something like this: <code class="docutils literal notranslate"><span class="pre">postgres://tsdbadmin:&lt;password&gt;&#64;&lt;id&gt;.tsdb.cloud.timescale.com:&lt;port&gt;/tsdb?sslmode=require</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the service url by reading local .env file</span>
<span class="c1"># The .env file should contain a line starting with `TIMESCALE_SERVICE_URL=postgresql://`</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">load_dotenv</span><span class="p">,</span> <span class="n">find_dotenv</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">load_dotenv</span><span class="p">(</span><span class="n">find_dotenv</span><span class="p">())</span>

<span class="n">TIMESCALE_SERVICE_URL</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;TIMESCALE_SERVICE_URL&quot;</span><span class="p">]</span>

<span class="c1"># OR set it explicitly</span>
<span class="c1"># TIMESCALE_SERVICE_URL = &quot;postgres://tsdbadmin:&lt;password&gt;@&lt;id&gt;.tsdb.cloud.timescale.com:&lt;port&gt;/tsdb?sslmode=require&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="simple-similarity-search-with-timescale-vector">
<h2>1. Simple Similarity Search with Timescale Vector<a class="headerlink" href="#simple-similarity-search-with-timescale-vector" title="Permalink to this heading">ïƒ</a></h2>
<div class="section" id="download-data">
<h3>Download Data<a class="headerlink" href="#download-data" title="Permalink to this heading">ïƒ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="s1">&#39;data/paul_graham/&#39;</span>
<span class="o">!</span>wget<span class="w"> </span><span class="s1">&#39;https://raw.githubusercontent.com/run-llama/llama_index/main/docs/examples/data/paul_graham/paul_graham_essay.txt&#39;</span><span class="w"> </span>-O<span class="w"> </span><span class="s1">&#39;data/paul_graham/paul_graham_essay.txt&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="loading-documents">
<h3>Loading documents<a class="headerlink" href="#loading-documents" title="Permalink to this heading">ïƒ</a></h3>
<p>For this example, weâ€™ll use a <a class="reference external" href="https://gpt-index.readthedocs.io/en/stable/examples/data_connectors/simple_directory_reader.html">SimpleDirectoryReader</a> to load the documents stored in the the <code class="docutils literal notranslate"><span class="pre">paul_graham_essay</span></code> directory.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">SimpleDirectoryReader</span></code> is one of LlamaIndexâ€™s most commonly used data connectors to read one or multiple files from a directory.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># load sample data from the data directory using a SimpleDirectoryReader</span>
<span class="n">documents</span> <span class="o">=</span> <span class="n">SimpleDirectoryReader</span><span class="p">(</span><span class="s2">&quot;./data/paul_graham&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Document ID:&quot;</span><span class="p">,</span> <span class="n">documents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">doc_id</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Document ID: 740ce1a1-4d95-40cc-b7f7-6d2874620a53
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="create-a-vectorstore-index-with-the-timescalevectorstore">
<h3>Create a VectorStore Index with the TimescaleVectorStore<a class="headerlink" href="#create-a-vectorstore-index-with-the-timescalevectorstore" title="Permalink to this heading">ïƒ</a></h3>
<p>Next, to perform a similarity search, we first create a <code class="docutils literal notranslate"><span class="pre">TimescaleVector</span></code> <a class="reference external" href="https://gpt-index.readthedocs.io/en/stable/core_modules/data_modules/storage/vector_stores.html">vector store</a> to store our vector embeddings from the essay content. TimescaleVectorStore takes a few arguments, namely the <code class="docutils literal notranslate"><span class="pre">service_url</span></code> which we loaded above, along with a <code class="docutils literal notranslate"><span class="pre">table_name</span></code> which we will be the name of the table that the vectors are stored in.</p>
<p>Then we create a <a class="reference external" href="https://gpt-index.readthedocs.io/en/stable/community/integrations/vector_stores.html#vector-store-index">Vector Store Index</a> on the documents backed by Timescale using the previously documents.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a TimescaleVectorStore to store the documents</span>
<span class="n">vector_store</span> <span class="o">=</span> <span class="n">TimescaleVectorStore</span><span class="o">.</span><span class="n">from_params</span><span class="p">(</span>
    <span class="n">service_url</span><span class="o">=</span><span class="n">TIMESCALE_SERVICE_URL</span><span class="p">,</span>
    <span class="n">table_name</span><span class="o">=</span><span class="s2">&quot;paul_graham_essay&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Create a new VectorStoreIndex using the TimescaleVectorStore</span>
<span class="n">storage_context</span> <span class="o">=</span> <span class="n">StorageContext</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span><span class="n">vector_store</span><span class="o">=</span><span class="n">vector_store</span><span class="p">)</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">VectorStoreIndex</span><span class="o">.</span><span class="n">from_documents</span><span class="p">(</span>
    <span class="n">documents</span><span class="p">,</span> <span class="n">storage_context</span><span class="o">=</span><span class="n">storage_context</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="query-the-index">
<h3>Query the index<a class="headerlink" href="#query-the-index" title="Permalink to this heading">ïƒ</a></h3>
<p>Now that weâ€™ve indexed the documents in our VectorStore, we can ask questions about our documents in the index by using the default <code class="docutils literal notranslate"><span class="pre">query_engine</span></code>.</p>
<p>Note you can also configure the query engine to configure the top_k most similar results returned, as well as metadata filters to filter the results by. See the <a class="reference external" href="https://gpt-index.readthedocs.io/en/stable/core_modules/data_modules/index/vector_store_guide.html">configure standard query setting section</a> for more details.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">query_engine</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">as_query_engine</span><span class="p">()</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;Did the author work at YC?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">),</span> <span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Yes, the author did work at YC.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;What did the author work on before college?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">),</span> <span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before college, the author worked on writing and programming. They wrote short stories and also
tried programming on the IBM 1401 computer using an early version of Fortran.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="querying-existing-index">
<h3>Querying existing index<a class="headerlink" href="#querying-existing-index" title="Permalink to this heading">ïƒ</a></h3>
<p>In the example above, we created a new Timescale Vector vectorstore and index from documents we loaded. Next weâ€™ll look at how to query an existing index. All we need is the service URI and the table name we want to access.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vector_store</span> <span class="o">=</span> <span class="n">TimescaleVectorStore</span><span class="o">.</span><span class="n">from_params</span><span class="p">(</span>
    <span class="n">service_url</span><span class="o">=</span><span class="n">TIMESCALE_SERVICE_URL</span><span class="p">,</span>
    <span class="n">table_name</span><span class="o">=</span><span class="s2">&quot;paul_graham_essay&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">index</span> <span class="o">=</span> <span class="n">VectorStoreIndex</span><span class="o">.</span><span class="n">from_vector_store</span><span class="p">(</span><span class="n">vector_store</span><span class="o">=</span><span class="n">vector_store</span><span class="p">)</span>
<span class="n">query_engine</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">as_query_engine</span><span class="p">()</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;What did the author do before YC?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">),</span> <span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before YC, the author wrote all of YC&#39;s internal software in Arc. They also worked on HN and had
three projects: writing essays, working on YC, and working in Arc. However, they gradually stopped
working on Arc due to time constraints and the increasing dependence on it for infrastructure.
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="using-ann-search-indexes-to-speed-up-queries">
<h2>2. Using ANN search indexes to speed up queries<a class="headerlink" href="#using-ann-search-indexes-to-speed-up-queries" title="Permalink to this heading">ïƒ</a></h2>
<p>(Note: These indexes are ANN indexes, and differ from the index concept in LlamaIndex)</p>
<p>You can speed up similarity queries by creating an index on the embedding column. You should only do this once you have ingested a large part of your data.</p>
<p>Timescale Vector supports the following indexes:</p>
<ul class="simple">
<li><p>timescale_vector_index: a disk-ann inspired graph index for fast similarity search (default).</p></li>
<li><p>pgvectorâ€™s HNSW index: a hierarchical navigable small world graph index for fast similarity search.</p></li>
<li><p>pgvectorâ€™s IVFFLAT index: an inverted file index for fast similarity search.</p></li>
</ul>
<p>Important note: In PostgreSQL, each table can only have one index on a particular column. So if youâ€™d like to test the performance of different index types, you can do so either by (1) creating multiple tables with different indexes, (2) creating multiple vector columns in the same table and creating different indexes on each column, or (3) by dropping and recreating the index on the same column and comparing results.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Instantiate the TimescaleVectorStore from part 1</span>
<span class="n">vector_store</span> <span class="o">=</span> <span class="n">TimescaleVectorStore</span><span class="o">.</span><span class="n">from_params</span><span class="p">(</span>
    <span class="n">service_url</span><span class="o">=</span><span class="n">TIMESCALE_SERVICE_URL</span><span class="p">,</span>
    <span class="n">table_name</span><span class="o">=</span><span class="s2">&quot;paul_graham_essay&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Using the <code class="docutils literal notranslate"><span class="pre">create_index()</span></code> function without additional arguments will create a <code class="docutils literal notranslate"><span class="pre">timescale_vector</span> <span class="pre">(DiskANN)</span></code> index by default, using the default parameters.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a timescale vector index (DiskANN)</span>
<span class="n">vector_store</span><span class="o">.</span><span class="n">create_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>You can also specify the parameters for the index. See the Timescale Vector documentation for a full discussion of the different parameters and their effects on performance.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># drop old index</span>
<span class="n">vector_store</span><span class="o">.</span><span class="n">drop_index</span><span class="p">()</span>

<span class="c1"># create new timescale vector index (DiskANN) with specified parameters</span>
<span class="n">vector_store</span><span class="o">.</span><span class="n">create_index</span><span class="p">(</span><span class="s2">&quot;tsv&quot;</span><span class="p">,</span> <span class="n">max_alpha</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">num_neighbors</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Timescale Vector also supports HNSW and ivfflat indexes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vector_store</span><span class="o">.</span><span class="n">drop_index</span><span class="p">()</span>

<span class="c1"># Create an HNSW index</span>
<span class="c1"># Note: You don&#39;t need to specify m and ef_construction parameters as we set smart defaults.</span>
<span class="n">vector_store</span><span class="o">.</span><span class="n">create_index</span><span class="p">(</span><span class="s2">&quot;hnsw&quot;</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">ef_construction</span><span class="o">=</span><span class="mi">64</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create an IVFFLAT index</span>
<span class="c1"># Note: You don&#39;t need to specify num_lists and num_records parameters as we set smart defaults.</span>
<span class="n">vector_store</span><span class="o">.</span><span class="n">drop_index</span><span class="p">()</span>
<span class="n">vector_store</span><span class="o">.</span><span class="n">create_index</span><span class="p">(</span><span class="s2">&quot;ivfflat&quot;</span><span class="p">,</span> <span class="n">num_lists</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">num_records</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We recommend using <code class="docutils literal notranslate"><span class="pre">timescale-vector</span></code> or <code class="docutils literal notranslate"><span class="pre">HNSW</span></code> indexes in general.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># drop the ivfflat index</span>
<span class="n">vector_store</span><span class="o">.</span><span class="n">drop_index</span><span class="p">()</span>
<span class="c1"># Create a timescale vector index (DiskANN)</span>
<span class="n">vector_store</span><span class="o">.</span><span class="n">create_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="similarity-search-with-time-based-filtering">
<h2>3. Similarity Search with time-based filtering<a class="headerlink" href="#similarity-search-with-time-based-filtering" title="Permalink to this heading">ïƒ</a></h2>
<p>A key use case for Timescale Vector is efficient time-based vector search. Timescale Vector enables this by automatically partitioning vectors (and associated metadata) by time. This allows you to efficiently query vectors by both similarity to a query vector and time.</p>
<p>Time-based vector search functionality is helpful for applications like:</p>
<ul class="simple">
<li><p>Storing and retrieving LLM response history (e.g. chatbots)</p></li>
<li><p>Finding the most recent embeddings that are similar to a query vector (e.g recent news).</p></li>
<li><p>Constraining similarity search to a relevant time range (e.g asking time-based questions about a knowledge base)</p></li>
</ul>
<p>To illustrate how to use TimescaleVectorâ€™s time-based vector search functionality, weâ€™ll use the git log history for TimescaleDB as a sample dataset and ask questions about it. Each git commit entry has a timestamp associated with it, as well as natural language message and other metadata (e.g author, commit hash etc).</p>
<p>Weâ€™ll illustrate how to create nodes with a time-based uuid and how run similarity searches with time range filters using the TimescaleVector vectorstore.</p>
<div class="section" id="extract-content-and-metadata-from-git-log-csv-file">
<h3>Extract content and metadata from git log CSV file<a class="headerlink" href="#extract-content-and-metadata-from-git-log-csv-file" title="Permalink to this heading">ïƒ</a></h3>
<p>First lets load in the git log csv file into a new collection in our PostgreSQL database named <code class="docutils literal notranslate"><span class="pre">timescale_commits</span></code>.</p>
<p>Note: Since this is a demo, we will only work with the first 1000 records. In practice, you can load as many records as you want.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="n">file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;../data/csv/commit_history.csv&quot;</span><span class="p">)</span>
<span class="c1"># Read the CSV file into a DataFrame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="c1"># Light data cleaning on CSV</span>
<span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="mi">1000</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Take a look at the data in the csv (optional)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Weâ€™ll define a helper funciton to create a uuid for a node and associated vector embedding based on its timestamp. Weâ€™ll use this function to create a uuid for each git log entry.</p>
<p>Important note: If you are working with documents/nodes and want the current date and time associated with vector for time-based search, you can skip this step. A uuid will be automatically generated when the nodes are added to the table in Timescale Vector by default. In our case, because we want the uuid to be based on the timestamp in the past, we need to create the uuids manually.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">timescale_vector</span> <span class="kn">import</span> <span class="n">client</span>


<span class="c1"># Function to take in a date string in the past and return a uuid v1</span>
<span class="k">def</span> <span class="nf">create_uuid</span><span class="p">(</span><span class="n">date_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">date_string</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">time_format</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%a</span><span class="s2"> %b </span><span class="si">%d</span><span class="s2"> %H:%M:%S %Y %z&quot;</span>
    <span class="n">datetime_obj</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date_string</span><span class="p">,</span> <span class="n">time_format</span><span class="p">)</span>
    <span class="n">uuid</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">uuid_from_time</span><span class="p">(</span><span class="n">datetime_obj</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Helper functions</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span>


<span class="c1"># Helper function to split name and email given an author string consisting of Name Lastname &lt;email&gt;</span>
<span class="k">def</span> <span class="nf">split_name</span><span class="p">(</span><span class="n">input_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">input_string</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">input_string</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">)</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">input_string</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;&gt;&quot;</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">input_string</span><span class="p">[:</span><span class="n">start</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">name</span>


<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>


<span class="k">def</span> <span class="nf">create_date</span><span class="p">(</span><span class="n">input_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">input_string</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="c1"># Define a dictionary to map month abbreviations to their numerical equivalents</span>
    <span class="n">month_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Jan&quot;</span><span class="p">:</span> <span class="s2">&quot;01&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Feb&quot;</span><span class="p">:</span> <span class="s2">&quot;02&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Mar&quot;</span><span class="p">:</span> <span class="s2">&quot;03&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Apr&quot;</span><span class="p">:</span> <span class="s2">&quot;04&quot;</span><span class="p">,</span>
        <span class="s2">&quot;May&quot;</span><span class="p">:</span> <span class="s2">&quot;05&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Jun&quot;</span><span class="p">:</span> <span class="s2">&quot;06&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Jul&quot;</span><span class="p">:</span> <span class="s2">&quot;07&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Aug&quot;</span><span class="p">:</span> <span class="s2">&quot;08&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Sep&quot;</span><span class="p">:</span> <span class="s2">&quot;09&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Oct&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Nov&quot;</span><span class="p">:</span> <span class="s2">&quot;11&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Dec&quot;</span><span class="p">:</span> <span class="s2">&quot;12&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># Split the input string into its components</span>
    <span class="n">components</span> <span class="o">=</span> <span class="n">input_string</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="c1"># Extract relevant information</span>
    <span class="n">day</span> <span class="o">=</span> <span class="n">components</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">month</span> <span class="o">=</span> <span class="n">month_dict</span><span class="p">[</span><span class="n">components</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
    <span class="n">year</span> <span class="o">=</span> <span class="n">components</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">time</span> <span class="o">=</span> <span class="n">components</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">timezone_offset_minutes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
        <span class="n">components</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
    <span class="p">)</span>  <span class="c1"># Convert the offset to minutes</span>
    <span class="n">timezone_hours</span> <span class="o">=</span> <span class="n">timezone_offset_minutes</span> <span class="o">//</span> <span class="mi">60</span>  <span class="c1"># Calculate the hours</span>
    <span class="n">timezone_minutes</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">timezone_offset_minutes</span> <span class="o">%</span> <span class="mi">60</span>
    <span class="p">)</span>  <span class="c1"># Calculate the remaining minutes</span>
    <span class="c1"># Create a formatted string for the timestamptz in PostgreSQL format</span>
    <span class="n">timestamp_tz_str</span> <span class="o">=</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">month</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">day</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">time</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">timezone_hours</span><span class="si">:</span><span class="s2">02</span><span class="si">}{</span><span class="n">timezone_minutes</span><span class="si">:</span><span class="s2">02</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">timestamp_tz_str</span>
</pre></div>
</div>
</div>
</div>
<p>Next, weâ€™ll define a function to create a <code class="docutils literal notranslate"><span class="pre">TextNode</span></code> for each git log entry. Weâ€™ll use the helper function <code class="docutils literal notranslate"><span class="pre">create_uuid()</span></code> we defined above to create a uuid for each node based on its timestampe. And weâ€™ll use the helper functions <code class="docutils literal notranslate"><span class="pre">create_date()</span></code> and <code class="docutils literal notranslate"><span class="pre">split_name()</span></code> above to extract relevant metadata from the git log entry and add them to the node.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index.schema</span> <span class="kn">import</span> <span class="n">TextNode</span><span class="p">,</span> <span class="n">NodeRelationship</span><span class="p">,</span> <span class="n">RelatedNodeInfo</span>


<span class="c1"># Create a Node object from a single row of data</span>
<span class="k">def</span> <span class="nf">create_node</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
    <span class="n">record</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
    <span class="n">record_name</span> <span class="o">=</span> <span class="n">split_name</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s2">&quot;author&quot;</span><span class="p">])</span>
    <span class="n">record_content</span> <span class="o">=</span> <span class="p">(</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">])</span>
        <span class="o">+</span> <span class="s2">&quot; &quot;</span>
        <span class="o">+</span> <span class="n">record_name</span>
        <span class="o">+</span> <span class="s2">&quot; &quot;</span>
        <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s2">&quot;change summary&quot;</span><span class="p">])</span>
        <span class="o">+</span> <span class="s2">&quot; &quot;</span>
        <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s2">&quot;change details&quot;</span><span class="p">])</span>
    <span class="p">)</span>
    <span class="c1"># Can change to TextNode as needed</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">TextNode</span><span class="p">(</span>
        <span class="n">id_</span><span class="o">=</span><span class="n">create_uuid</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]),</span>
        <span class="n">text</span><span class="o">=</span><span class="n">record_content</span><span class="p">,</span>
        <span class="n">metadata</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;commit&quot;</span><span class="p">:</span> <span class="n">record</span><span class="p">[</span><span class="s2">&quot;commit&quot;</span><span class="p">],</span>
            <span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="n">record_name</span><span class="p">,</span>
            <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="n">create_date</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]),</span>
        <span class="p">},</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">node</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">create_node</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()]</span>
</pre></div>
</div>
</div>
</div>
<p>Next weâ€™ll create vector embeddings of the content of each node so that we can perform similarity search on the text associated with each node. Weâ€™ll use the <code class="docutils literal notranslate"><span class="pre">OpenAIEmbedding</span></code> model to create the embeddings.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create embeddings for nodes</span>
<span class="kn">from</span> <span class="nn">llama_index.embeddings</span> <span class="kn">import</span> <span class="n">OpenAIEmbedding</span>

<span class="n">embedding_model</span> <span class="o">=</span> <span class="n">OpenAIEmbedding</span><span class="p">()</span>

<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">:</span>
    <span class="n">node_embedding</span> <span class="o">=</span> <span class="n">embedding_model</span><span class="o">.</span><span class="n">get_text_embedding</span><span class="p">(</span>
        <span class="n">node</span><span class="o">.</span><span class="n">get_content</span><span class="p">(</span><span class="n">metadata_mode</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">node</span><span class="o">.</span><span class="n">embedding</span> <span class="o">=</span> <span class="n">node_embedding</span>
</pre></div>
</div>
</div>
</div>
<p>Letâ€™s examine the first node in our collection to see what it looks like.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_content</span><span class="p">(</span><span class="n">metadata_mode</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>commit: 44e41c12ab25e36c202f58e068ced262eadc8d16
author: Lakshmi Narayanan Sreethar
date: 2023-09-5 21:03:21+0850

Tue Sep 5 21:03:21 2023 +0530 Lakshmi Narayanan Sreethar Fix segfault in set_integer_now_func When an invalid function oid is passed to set_integer_now_func, it finds out that the function oid is invalid but before throwing the error, it calls ReleaseSysCache on an invalid tuple causing a segfault. Fixed that by removing the invalid call to ReleaseSysCache.  Fixes #6037
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_embedding</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[-0.005366453900933266, 0.0016374519327655435, 0.005981510039418936, -0.026256779208779335, -0.03944991156458855, 0.026299940422177315, -0.0200558640062809, -0.01252412423491478, -0.04241368919610977, -0.004758591763675213, 0.05639812350273132, 0.006578581873327494, 0.014833281747996807, 0.009509989991784096, 0.0009675443288870156, -0.013157163746654987, -0.002265996066853404, -0.017048921436071396, 0.006553404498845339, -0.00217068032361567, 0.009085564874112606, 0.011775985360145569, -0.02514895796775818, -0.002679630182683468, 0.0030608929228037596, -3.439458305365406e-05, -0.00363818253390491, -0.03939236328005791, 0.0016806137282401323, -0.01207092497497797, 0.01739421673119068, -0.02241537719964981, -0.01753808930516243, -0.023782167583703995, -0.01598426327109337, -0.02575322426855564, -0.016876274719834328, -0.006380756851285696, -0.0009149408433586359, 0.00704616867005825, -0.0013290246715769172, -0.009776154533028603, -0.013200325891375542, -0.024832438677549362, -0.0019404839258641005, 0.027220726013183594, -0.004765785299241543, -0.008553235791623592, -0.023120352998375893, 0.006920279935002327, 0.017739512026309967, 0.0166892409324646, -0.019408436492085457, 0.010207772254943848, 0.01595548912882805, 0.004783769138157368, 0.008855368942022324, 0.018084805458784103, -0.012603254057466984, -0.002003428293392062, -0.0008407564600929618, 0.00394211383536458, -0.018948042765259743, 0.005722539033740759, -0.004244246520102024, -0.011502627283334732, -0.000936971337068826, 0.006873521022498608, -0.0038593867793679237, 0.0003349537728354335, 0.02490437589585781, 0.022861381992697716, -0.013833366334438324, 0.005657796282321215, 0.027896929532289505, -0.020415544509887695, -0.007143282797187567, 0.014862056821584702, -0.00667569600045681, -0.020199736580252647, 0.01827184110879898, -0.0030698850750923157, -0.032975636422634125, 0.02595464698970318, -0.0014818893978372216, -0.004906061105430126, 0.01008548028767109, 0.009337342344224453, -0.009833703748881817, -0.0011680669849738479, 0.010653777979314327, -0.0006110096583142877, 0.016228847205638885, -0.010589035227894783, 0.0010997274657711387, 0.020300446078181267, 0.005715345498174429, 0.009862477891147137, -0.0015664147213101387, -0.009207856841385365, -0.013480877503752708, -0.01759563945233822, 0.007992131635546684, -0.012639221735298634, -0.016833113506436348, -0.01654536835849285, 0.009366116486489773, 0.004229859448969364, -0.0044168937020003796, -0.00028122629737481475, -0.028918424621224403, 0.030616123229265213, -0.017020147293806076, -0.02500508539378643, 0.01844448782503605, 0.00011554780940059572, 0.021278781816363335, -0.01503470353782177, -0.024760503321886063, -0.02408429980278015, 0.03734936937689781, 0.000861438165884465, 0.021365106105804443, -0.006740438751876354, 0.005557085387408733, -0.017005760222673416, -0.01831500232219696, -0.01458150427788496, -0.0207896139472723, -0.004100373946130276, 0.011214882135391235, 0.03228504955768585, 0.00543119665235281, 0.02251608669757843, 0.011373141780495644, 0.0207896139472723, 0.004032033961266279, 0.019768116995692253, -0.016329558566212654, -0.02755163423717022, -0.0001643296709517017, 0.04163677617907524, -0.02163846418261528, 0.019394047558307648, -0.028975974768400192, 0.040543343871831894, 0.006010284647345543, 0.009812122210860252, 0.024746114388108253, -0.027781831100583076, -0.0009360721451230347, 0.002836091909557581, -0.008733076974749565, 0.010754489339888096, -0.005380841437727213, 0.01586916483938694, 0.0003014584071934223, 0.006862730719149113, -0.033666227012872696, -0.01664607785642147, 0.001758844475261867, 0.0125528983771801, 0.0065066455863416195, 0.016228847205638885, 0.010466743260622025, 0.0251057967543602, -0.009215050376951694, -0.016027426347136497, 0.0116033386439085, 0.019667407497763634, 0.008905723690986633, 0.011517014354467392, -0.0036561666056513786, 0.02263118512928486, 0.027868153527379036, 0.02509140968322754, 0.011984600685536861, -0.016473431140184402, -0.013847753405570984, 0.01377581711858511, -0.010315677151083946, -0.0076612248085439205, 0.031076516956090927, 0.06526068598031998, -0.01297012995928526, -0.008610785007476807, 0.02340809814631939, 0.0038989519234746695, 0.009251018986105919, 0.003494309727102518, 0.009301373735070229, 0.003737095044925809, -0.03757956624031067, -0.0013029477559030056, -0.5865404605865479, -0.013444909825921059, 0.0021041391883045435, -0.004449265077710152, 0.0020052266772836447, 0.010776069946587086, 0.025695675984025, 0.01172563061118126, -0.02909107320010662, 0.015250512398779392, -0.014487987384200096, 0.04822615161538124, 0.014487987384200096, -0.030357152223587036, -0.01828622817993164, -0.00993441417813301, 0.010294096544384956, 0.0014764942461624742, 0.005524714011698961, -0.001750751631334424, -0.020386770367622375, 0.010977491736412048, -0.01082642562687397, -0.010092674754559994, 0.021091746166348457, -0.009229437448084354, 0.012013375759124756, -0.01284064445644617, -0.00015736083150841296, 0.009063984267413616, -0.013660718686878681, 0.0058807991445064545, 0.013955658301711082, 0.0028414870612323284, 0.046960070729255676, -0.01130120549350977, -0.04943468049168587, 0.006970635149627924, 0.0046219127252697945, 0.031335487961769104, -0.031306713819503784, -0.026357490569353104, 0.042902857065200806, 0.01129401195794344, -0.010941523127257824, -0.0027857364621013403, 0.00627644918859005, -0.023005254566669464, -0.0133226178586483, -0.05228336155414581, 0.025494253262877464, 0.016084974631667137, 0.014329726807773113, 0.03809750825166702, -0.025393541902303696, -0.02322106435894966, 0.006686486769467592, 0.01847326196730137, 0.02989676035940647, 0.0017372636357322335, -0.018530812114477158, 0.0418669730424881, -0.010092674754559994, 0.003927726298570633, -0.009876864962279797, -0.012322702445089817, 0.007977744564414024, 0.027177564799785614, 0.036255937069654465, 0.007841065526008606, 0.02255924977362156, 0.02076083980500698, 0.00024390929320361465, -0.01254570484161377, -0.005535504315048456, 0.014185854233801365, 0.01211408618837595, -0.020199736580252647, -0.02414184994995594, 0.006977829150855541, -0.010157416574656963, -0.025997808203101158, 0.017235957086086273, -0.008862562477588654, 0.017077697440981865, 0.02084716409444809, 0.0029583836439996958, -0.003523084335029125, 0.007387866266071796, -0.0035122937988489866, 0.01923578791320324, 0.010092674754559994, -0.0016896057641133666, 0.0016887065721675754, 0.025666899979114532, -0.0024979908484965563, -0.01455992367118597, 0.009351729415357113, -0.013631944544613361, -0.03240014612674713, -0.020573804154992104, -0.029004748910665512, -0.02096226066350937, -0.013495265506207943, 0.0216672383248806, 0.038011182099580765, -0.01664607785642147, -0.03078877180814743, 0.037234269082546234, 0.0005889791063964367, -0.0040392279624938965, -0.012365863658487797, -0.009862477891147137, -0.011783178895711899, -0.008862562477588654, -0.02922055870294571, 0.025407928973436356, 0.001157276565209031, 0.008589203469455242, -0.007941776886582375, 0.005686570890247822, 0.007190041244029999, 0.01579722948372364, -0.02337932400405407, 0.007003006525337696, -0.00768999895080924, 0.028645066544413567, -0.019710568711161613, -0.021307555958628654, -0.0257676113396883, 0.012660803273320198, -0.006607356481254101, 0.010459549725055695, 0.0007481383509002626, 0.02342248521745205, -0.007632450200617313, 0.02916300855576992, -0.02093348652124405, 0.035565346479415894, -0.011891083791851997, -0.02571006305515766, -0.0050067720003426075, -0.006441902834922075, -0.01040919404476881, -0.001439626794308424, -0.011502627283334732, -0.03838525339961052, -0.004352150950580835, 0.01746615394949913, -0.00197825045324862, -0.008661140687763691, 0.004237052984535694, -0.041377805173397064, 0.01595548912882805, -0.003506898647174239, -0.004805350210517645, -0.010229353792965412, -0.016372719779610634, 0.005852024536579847, -0.007006603758782148, 0.007790710311383009, 0.02512018382549286, -0.01458150427788496, 0.020429931581020355, -0.006862730719149113, -0.006783600896596909, -0.009898446500301361, 0.00603905925527215, -0.015279287472367287, -0.03827015310525894, -0.009409278631210327, 0.0021796722430735826, -0.011941439472138882, -0.009330148808658123, -0.010286902077496052, 0.01004231907427311, -0.023667069151997566, -0.007948970422148705, -0.013502459041774273, 0.00689150532707572, 0.028832102194428444, 0.02832854725420475, -0.0332346074283123, -0.012416219338774681, 0.009891252033412457, 0.017192795872688293, 0.01844448782503605, 0.0008421052480116487, 0.013560008257627487, 0.025292832404375076, -0.023954814299941063, 0.009912833571434021, -0.003154410282149911, -0.01086239330470562, 0.011509820818901062, 0.03752201795578003, -0.004481636453419924, -0.009013628587126732, 0.004283811431378126, 0.030299603939056396, 0.014164273627102375, 0.006959844846278429, 0.02920617163181305, -0.011977407149970531, -0.0028288981411606073, -0.023796554654836655, 0.001507966429926455, -0.008546042256057262, -0.019796893000602722, -0.021998144686222076, -0.000644280225969851, -0.014718183316290379, -0.013085227459669113, -0.005549891851842403, 0.008733076974749565, 0.042068395763635635, 0.00501756276935339, 0.01585477776825428, -0.02152336575090885, -0.01127243135124445, -0.005700958427041769, -0.003776659956201911, 0.028947200626134872, 0.004992384929209948, 0.0016985977999866009, -0.008143198676407337, 0.004729817155748606, 0.016444656997919083, 0.022372214123606682, 0.0038773708511143923, 0.0027857364621013403, 0.012365863658487797, 0.02819906175136566, 0.01549509633332491, 0.04822615161538124, -0.010222159326076508, 0.01845887489616871, -0.012236378155648708, 0.03939236328005791, -0.003064489923417568, -0.015552645549178123, 0.014200241304934025, 0.02571006305515766, -0.009466827847063541, -0.024501532316207886, -0.02660207450389862, 0.03274543955922127, -0.0028936408925801516, 0.0067907944321632385, 0.026213617995381355, -0.007431028410792351, 0.0007823081687092781, -0.004006856586784124, 0.02745092287659645, 0.02737898752093315, 0.014315339736640453, 0.004862899426370859, 0.010315677151083946, 0.01989760249853134, 0.041982073336839676, 0.01996953971683979, 0.011092590168118477, 0.001743558095768094, -0.01131559256464243, 0.015236125327646732, 0.005107482895255089, 0.018027257174253464, -0.014962767250835896, 0.0006712563335895538, 0.01573967933654785, -0.02673156000673771, -0.022156406193971634, -0.04419771209359169, 0.00019040661572944373, 0.020458707585930824, 0.011258043348789215, 0.01904875412583351, 0.015164189040660858, 0.010517098940908909, -0.021998144686222076, -0.039593786001205444, -0.01992637850344181, 0.04448545724153519, 0.011452271603047848, -0.0019728553015738726, -0.021120522171258926, 0.0043809255585074425, 0.0013056453317403793, -0.017753899097442627, -0.0200558640062809, -0.019005591049790382, 0.02409868687391281, 0.014804507605731487, 0.006682890001684427, 0.01008548028767109, -0.00481614051386714, 0.030616123229265213, -0.003010537475347519, -0.014790119603276253, -0.006780004128813744, -0.028055189177393913, 0.017940932884812355, -0.01424340344965458, 0.0034511478152126074, 0.04736291244626045, -0.012301120907068253, -0.016502205282449722, -0.0018685475224629045, -0.009999156929552555, -0.004460055846720934, 0.03487475588917732, -0.009790541604161263, -0.019422823563218117, -0.03389642387628555, 0.009991963393986225, 0.0016770168440416455, -0.005945541895925999, -0.0014899822417646646, 0.04517604783177376, 0.008596397936344147, -0.021134909242391586, -0.03263034299015999, -0.025407928973436356, 0.012257959693670273, 0.026127293705940247, 0.05098850652575493, 0.004111164249479771, 0.021149296313524246, -0.021278781816363335, 0.00727636506780982, -0.013380167074501514, -0.014171467162668705, 0.03737814351916313, -0.019653018563985825, 0.018861718475818634, 0.012991710565984249, -0.0012795684160664678, -0.016358332708477974, 0.032112400978803635, 0.017120858654379845, 0.032054852694272995, -0.006474274210631847, -0.01131559256464243, -0.014667828567326069, -0.012689577415585518, 0.01907752826809883, 0.022012531757354736, 0.01740860380232334, 0.0033450417686253786, 0.02322106435894966, 0.03893196955323219, 0.033666227012872696, 0.025566190481185913, -0.017825834453105927, -0.02571006305515766, 0.011258043348789215, 0.023465648293495178, 0.012315508909523487, -0.027235113084316254, 0.020415544509887695, 0.005945541895925999, 0.0029961501713842154, 0.02083277516067028, -0.004118357785046101, 0.012236378155648708, -0.012941354885697365, 0.008776238188147545, 0.009661056101322174, 0.009078371338546276, 0.0009558546589687467, -0.005672183819115162, 0.008869756013154984, 0.0011509821051731706, 0.021883046254515648, 0.008085649460554123, -0.012135667726397514, -0.027896929532289505, -0.03406906872987747, 0.027824992313981056, 0.029724113643169403, -0.02762356959283352, -0.023034028708934784, -0.027321437373757362, -0.02746530994772911, -0.02409868687391281, -0.016372719779610634, -0.0012382050044834614, -0.005837637465447187, 0.001647343160584569, 0.016257621347904205, -0.01657414250075817, 0.0007503863889724016, -0.02595464698970318, 0.01595548912882805, -0.0030051423236727715, -0.002246213611215353, -0.02493315003812313, 0.015610194765031338, 0.008546042256057262, -0.0008038890664465725, 0.03818383067846298, -0.004553572740405798, 0.00098912522662431, -0.0023703037295490503, -0.01996953971683979, -0.042931631207466125, -0.02591148391366005, -0.03473088517785072, 0.010941523127257824, 0.0009603506769053638, 0.021307555958628654, -0.008920111693441868, -0.011142945848405361, 0.022688735276460648, 0.016444656997919083, -0.006197319366037846, 0.020660128444433212, 0.016516592353582382, -0.01410672441124916, 0.006949054542928934, 0.014682215638458729, 0.01007109321653843, 0.009200663305819035, 0.009488408453762531, 0.023623907938599586, 0.028573131188750267, -0.005967122968286276, -0.014675022102892399, -0.013185938820242882, 0.008323038928210735, -0.0018883299781009555, 0.010193385183811188, 0.006582179106771946, -0.0028288981411606073, 0.02163846418261528, -0.005456374492496252, 0.012783095240592957, 0.01589794084429741, 0.030501024797558784, 0.0026544525753706694, 0.035392697900533676, 0.012610447593033314, -0.0026112906634807587, -0.023810941725969315, 0.0035212859511375427, -0.01579722948372364, 0.03263034299015999, -0.025465479120612144, 0.006096608471125364, 0.009207856841385365, -0.009790541604161263, -0.02926371991634369, -0.003773063188418746, 0.023868491873145103, -0.01750931516289711, 0.016171298921108246, 0.033004410564899445, -0.00790580827742815, -0.00728355860337615, 0.0021077359560877085, -0.017955319955945015, -0.0032533227931708097, -0.0004282462759874761, -0.006204512901604176, 0.014430438168346882, -0.03985275700688362, 0.01591232791543007, -0.03519127890467644, -0.03749324008822441, -0.025379154831171036, -0.019552309066057205, -0.008078455924987793, 0.042874082922935486, 0.018502037972211838, -0.010545873083174229, -0.009085564874112606, -0.026069745421409607, -0.0023127547465264797, 0.00957473274320364, -0.02929249405860901, -0.03487475588917732, -0.01132997963577509, 0.03188220411539078, 0.009107145480811596, 0.030644899234175682, -0.013459296897053719, 0.04224104434251785, -0.016789952293038368, 0.0027731475420296192, 0.002381094265729189, 0.01130120549350977, 0.008934498764574528, -0.012337089516222477, 0.007517351768910885, 0.0005318796029314399, -0.005711748730391264, -0.01535122375935316, 0.0017957119271159172, -0.004132745321840048, 0.02592587098479271, -0.026285553351044655, -0.0012876612599939108, -0.01759563945233822, -0.029839210212230682, -0.003095062915235758, -0.0052477591671049595, -0.015567032620310783, 0.01664607785642147, -0.028098350390791893, 0.009984769858419895, 0.04307550564408302, 0.0010817432776093483, 0.00710731465369463, 0.016041813418269157, 0.010437969118356705, -0.028573131188750267, 0.010704133659601212, 0.005229774862527847, 0.002433248097077012, 0.012229184620082378, -0.0018793379422277212, -0.006312417332082987, 0.01743737794458866, -0.016948211938142776, 0.009502795524895191, 0.017782673239707947, -0.00690589239820838, -0.010553067550063133, -0.01595548912882805, 0.020228510722517967, -0.028558744117617607, -0.012186023406684399, 0.024443982169032097, -0.03150813654065132, 0.006003091111779213, -0.03320583328604698, -0.024659791961312294, -0.013876527547836304, 0.007312333211302757, 0.00689869886264205, 0.0004842217604164034, 0.020991036668419838, -0.007797903846949339, -0.014437631703913212, 0.0003288841398898512, -0.01674678921699524, 0.02819906175136566, -0.006826762575656176, 0.03763711452484131, 0.03332093358039856, 0.0006676595658063889, -0.046960070729255676, 0.01986882835626602, 0.03254402056336403, 0.005783685017377138, 0.013142776675522327, 0.02589709684252739, 0.009905640035867691, 0.006765616592019796, -0.00791300181299448, -2.810014905207936e-07, -0.03228504955768585, -0.018904881551861763, 0.01572529226541519, 0.02008463814854622, 0.014732571318745613, -0.009279793128371239, -0.011768791824579239, -0.021998144686222076, -0.011135751381516457, -0.01209969911724329, 0.005643409211188555, -0.008459718897938728, -0.0033558320719748735, -0.012826256453990936, 0.03844280168414116, -0.01502031646668911, 0.009776154533028603, 0.020458707585930824, -0.009704218246042728, -0.012373057194054127, -0.021839885041117668, -0.030587349086999893, -0.005729732569307089, -0.026199230924248695, 0.04943468049168587, 0.0026490571908652782, -0.02658768743276596, 0.002050186973065138, -0.010668165050446987, -0.016200073063373566, -0.046413354575634, -0.008589203469455242, 0.04224104434251785, -0.019336499273777008, -0.009661056101322174, 0.01995515264570713, 0.013509652577340603, -0.0022803833708167076, -0.005157838575541973, -0.016890661790966988, -0.006258465349674225, -0.03591063991189003, 0.003055497771129012, 0.010761682875454426, 0.004546379204839468, -0.003618400078266859, 0.009402085095643997, -0.016473431140184402, -0.018832944333553314, -0.015624581836163998, -0.035392697900533676, 0.009862477891147137, -0.04411138966679573, 0.01038761343806982, -0.030213279649615288, -0.01329384371638298, 0.030414702370762825, 0.02084716409444809, -0.03421294316649437, 0.013444909825921059, 0.04914693534374237, -0.031134065240621567, 0.009286986663937569, 0.00023739006428513676, 0.012811869382858276, -0.03507617861032486, -0.0007841065526008606, -0.020286059007048607, -0.013027678243815899, 0.025249669328331947, -0.009028015658259392, -0.023839715868234634, -0.017164019867777824, 0.02319229021668434, -0.0019171045860275626, 0.01906314119696617, 0.0008443532860837877, 0.05933312699198723, 0.012596060521900654, 0.01253131777048111, -0.034673336893320084, -0.004103970713913441, 0.03812628239393234, -0.02589709684252739, 0.0006658611237071455, 0.002077162964269519, -0.008301458321511745, 0.008596397936344147, -0.003589625470340252, -0.005057127680629492, 0.009358922950923443, -0.03746446594595909, 0.003701126901432872, -0.0028666649013757706, 0.00605344632640481, -0.023667069151997566, -0.016401495784521103, -0.021969370543956757, 0.007841065526008606, -0.0040859864093363285, 0.014703796245157719, -0.016243234276771545, -0.02001270093023777, -0.005798072554171085, 0.015279287472367287, -0.0018577571026980877, 0.011373141780495644, -0.01164649985730648, -0.0021329137962311506, -0.0023667069617658854, -0.025508640334010124, -0.0201277993619442, -0.007071346510201693, -0.01904875412583351, 0.03755079209804535, -0.011042234487831593, 0.005898783449083567, -0.011883890256285667, -0.023595133796334267, -0.02179672382771969, -0.00870430190116167, -0.02490437589585781, 0.011387528851628304, 0.02986798621714115, -0.0021958579309284687, -0.008265490643680096, 0.025235282257199287, 0.001056565553881228, 0.020688902586698532, -0.004470846150070429, 0.0018919268622994423, 0.015509483404457569, -0.004175907000899315, 0.025307219475507736, 0.012272346764802933, -0.019653018563985825, -0.02491876296699047, 0.004352150950580835, 0.029839210212230682, 0.041233934462070465, -0.011984600685536861, -0.0008515469380654395, -0.0076684183441102505, 0.0021868660114705563, -0.016099361702799797, -0.012682383880019188, -0.005197403486818075, 0.0012750723399221897, -0.018545199185609818, 0.0014576109824702144, 0.017681961879134178, 0.00019715064263436943, -0.024760503321886063, -0.017955319955945015, -0.011351561173796654, -0.019465984776616096, 0.009869671426713467, 0.005078708287328482, 0.010754489339888096, 0.024789277464151382, -0.02332177571952343, 0.0173510555177927, 0.0037838537245988846, -0.001575406757183373, 0.0241562370210886, -0.004233456216752529, 0.006970635149627924, -0.01333700492978096, 0.014653440564870834, -0.02986798621714115, 0.008517267182469368, 0.009200663305819035, -0.0011563773732632399, 0.026299940422177315, -0.008092842996120453, -0.01424340344965458, -0.018559586256742477, -0.02594025991857052, -0.009970382787287235, -0.0010502712102606893, -0.033666227012872696, -0.017739512026309967, -0.006596566177904606, -0.027868153527379036, -0.00879781972616911, -0.024458369240164757, -0.010178998112678528, -0.004575153812766075, -0.018948042765259743, -0.02156652696430683, -0.04434158653020859, 0.002605895511806011, 0.0007724168826825917, -0.0012507938081398606, -0.047880854457616806, -0.017825834453105927, -0.010164611041545868, 0.012804675847291946, 0.027249502018094063, 0.18795537948608398, 0.006362773012369871, 0.003310872009024024, 0.01674678921699524, -0.011970213614404202, -0.0014054570347070694, 0.008840980939567089, -0.010963104665279388, -0.037953633815050125, 0.04327692836523056, -0.011142945848405361, 0.010308483615517616, -0.008617978543043137, -0.0027335823979228735, -0.008085649460554123, 0.010301290079951286, -0.043823644518852234, 0.00564700597897172, -0.05435512959957123, -0.009905640035867691, 0.033608678728342056, -0.004006856586784124, -0.006643324624747038, -0.02178233675658703, 0.02596903406083584, -0.03418416902422905, 0.010704133659601212, 0.009761766530573368, 0.014085143804550171, 0.005226178094744682, -0.023710230365395546, 0.0055750696919858456, -0.000936971337068826, -0.026961755007505417, -0.01926456205546856, -0.037953633815050125, 0.012315508909523487, 0.008466912433505058, 0.017077697440981865, 0.0058843959122896194, 0.002050186973065138, -0.0251057967543602, 0.015178576111793518, -0.01746615394949913, -0.00251237815245986, 0.032831765711307526, -0.008956079371273518, 0.0013020484475418925, -0.012480962090194225, 0.03896074369549751, -0.04566521570086479, 0.009955994784832, 0.03170955553650856, 0.011121364310383797, 0.016789952293038368, -0.009452440775930882, -0.01335139200091362, -0.0038342091720551252, 0.022314665839076042, 0.009438052773475647, -0.023940427228808403, 0.033666227012872696, 0.0005417708889581263, 0.007790710311383009, -0.018861718475818634, 0.011696855537593365, -0.02926371991634369, 0.005657796282321215, 0.02402675151824951, -0.04578031226992607, 0.009509989991784096, -0.024875599890947342, 0.004308989271521568, -0.007182847708463669, -0.013200325891375542, -0.00787703413516283, 0.0005876303184777498, 0.00913592055439949, 0.009840897284448147, 0.014437631703913212, -0.0050103687681257725, -0.04721904173493385, -0.007344704587012529, -0.0003257369389757514, -0.042010847479104996, -0.03510495275259018, 0.028832102194428444, 0.022314665839076042, -0.00880501326173544, -0.006744035519659519, 0.0007535336189903319, 0.011351561173796654, 0.011847921647131443, -0.005021159537136555, 0.005154241807758808, 0.014286565594375134, -0.00790580827742815, 0.00566139305010438, -0.022976480424404144, 0.004111164249479771, -0.013502459041774273, 0.05501694604754448, -0.011704049073159695, -0.044600557535886765, -0.00791300181299448, 0.009646669030189514, 0.012236378155648708, 0.006909489631652832, 0.010596228763461113, -0.027954477816820145, -0.00710731465369463, -0.0499238483607769, -0.011991795152425766, -0.007524545304477215, -0.00540961604565382, 0.025307219475507736, 0.0064634839072823524, -0.033004410564899445, 0.002731784014031291, -0.013193132355809212, 0.02581077441573143, -0.0014908815501257777, 0.02258802391588688, 0.018775396049022675, -0.0019998312927782536, 0.0010511704022064805, -0.010790457017719746, -0.008517267182469368, -0.00603186571970582, -0.04321937635540962, 0.015653356909751892, -0.0073806727305054665, 0.010452356189489365, -0.013099615462124348, -0.007869839668273926, -0.00067800038959831, 0.017279118299484253, 6.013431993778795e-05, 0.007096523884683847, -0.008653946220874786, -0.003602214390411973, -0.016833113506436348, -0.011797566898167133, -0.011344367638230324, 0.0015385393053293228, -0.005121870432049036, 0.023868491873145103, 0.0026652428787201643, -0.021422654390335083, 0.007395059801638126, -0.019336499273777008, -0.004528395365923643, 0.014272177591919899, 0.009783348068594933, 0.004319779574871063, -0.010617810301482677, -0.030443476513028145, -0.041406579315662384, 0.005366453900933266, -0.007157669868320227, -0.02171039953827858, 0.018919268622994423, 0.037780988961458206, 0.0038342091720551252, -0.03165200725197792, 0.003003343939781189, -0.18473263084888458, -0.0065066455863416195, -0.018631523475050926, -0.034845981746912, 0.027120016515254974, -0.011761598289012909, 0.031018966808915138, 0.0005489644827321172, -0.006830359343439341, -0.01999831385910511, 0.011416303925216198, 0.0192501749843359, -0.049578554928302765, -0.014660634100437164, -0.004258633591234684, -0.015192964114248753, 0.014732571318745613, -0.0006928372895345092, 0.03691774979233742, 0.017739512026309967, 0.018214290961623192, -0.0349898561835289, 0.010553067550063133, 0.009215050376951694, 0.00868272129446268, 0.03240014612674713, -0.004478039685636759, -0.017897771671414375, -0.009438052773475647, -0.014962767250835896, -0.003569843014702201, 0.018530812114477158, 0.02924933284521103, 0.0018083007307723165, 0.0029098265804350376, -0.0023361339699476957, -0.007431028410792351, -3.0151459213811904e-05, 0.015178576111793518, -0.004916851874440908, 0.018185516819357872, 0.018142355605959892, -0.0067943911999464035, 0.026472589001059532, -0.01988321542739868, 0.017926545813679695, 0.04998139664530754, -0.0366012305021286, 0.01128681842237711, -0.021106135100126266, 0.02832854725420475, -0.025278443470597267, -0.009682636708021164, 0.004154325928539038, 0.021897435188293457, 0.005571472924202681, 0.01586916483938694, 0.021868659183382988, -0.03099019266664982, -6.738415686413646e-05, -0.0005327787948772311, -0.018631523475050926, 0.015293674543499947, -0.00353387463837862, 0.0028648662846535444, -0.004891674034297466, -0.010668165050446987, -0.00961789395660162, -0.00768999895080924, 0.017797060310840607, -0.020631354302167892, -0.011660887859761715, 0.005085902288556099, 0.012171635404229164, 0.008121617138385773, 0.028932811692357063, -0.031076516956090927, 0.009229437448084354, 0.003350436920300126, -0.005826846696436405, -0.004902464337646961, 0.042989183217287064, -0.009891252033412457, -0.008855368942022324, -0.00239368318580091, -0.01040200050920248, -0.010660971514880657, -0.012495349161326885, 0.008071262389421463, -0.02008463814854622, 0.01421462930738926, -0.018228679895401, -0.014862056821584702, -0.011768791824579239, -0.01502031646668911, 0.004028437193483114, -0.0033971955999732018, -0.008164779283106327, 0.01254570484161377, -0.008006519638001919, -0.016789952293038368, -0.020314833149313927, -0.003051901003345847, -0.003602214390411973, -0.012747126631438732, 0.0015700114890933037, -0.03668755292892456, -0.0027929299976676702, 0.020616967231035233, 0.011761598289012909, -0.011222075670957565, 0.03196852654218674, 0.009876864962279797, 0.02583954855799675, -0.009862477891147137, 0.0027821394614875317, -0.0038665805477648973, 0.006823165807873011, 0.017063310369849205, -0.020199736580252647, 0.041406579315662384, -0.0116033386439085, -0.011761598289012909, 0.023494422435760498, -0.011876696720719337, -0.023839715868234634, -0.09668249636888504, -0.031076516956090927, -0.00787703413516283, 0.022789444774389267, -0.014164273627102375, 0.030242053791880608, 0.003294686321169138, 0.033579904586076736, -0.007956163957715034, 0.0083446204662323, -0.0047190263867378235, -0.04445668309926987, -0.0008317644242197275, 0.012351476587355137, -0.0026076938956975937, 0.011027847416698933, -0.02244415134191513, -0.017048921436071396, 0.0200558640062809, 0.03429926559329033, 0.02419939823448658, -0.021839885041117668, 0.011970213614404202, -0.013207519426941872, -0.028012026101350784, -0.003449349431321025, -0.017782673239707947, 0.0173510555177927, 0.005963526200503111, 0.019523533061146736, 0.0380687341094017, 0.003035715315490961, 0.04742046073079109, -0.012588866986334324, -0.03691774979233742, -0.027925703674554825, -0.018199903890490532, 0.003346840152516961, 0.02432888373732567, -0.042845308780670166, 0.01912068948149681, 0.00871868897229433, 0.009286986663937569, 0.005618231371045113, -0.023091578856110573, 0.005111079663038254, -0.02248731255531311, 0.03752201795578003, 0.04575153812766075, -0.01504909060895443, -0.0402555987238884, 0.02737898752093315, -0.00015803524001967162, -0.021019810810685158, 0.003553657326847315, -0.007510158233344555, 0.03435681387782097, 0.006114592310041189, -0.00917188823223114, -0.007315929979085922, 0.008136005140841007, -0.0019332902738824487, 0.015192964114248753, 0.009653862565755844, -0.026961755007505417, 0.009898446500301361, 0.0005602045566774905, -0.03196852654218674, 0.03087509423494339, -0.01756686344742775, -0.017048921436071396, 0.022329052910208702, -0.025666899979114532, 0.009416472166776657, -0.01910630241036415, 0.0036201984621584415, -1.7815495084505528e-05, -0.02760918252170086, 0.0330907367169857, -0.010898361913859844, -0.021192457526922226, -0.018084805458784103, -0.021437041461467743, 0.01674678921699524, 0.0108336191624403, 0.014077950268983841, 0.009445247240364552, 0.021264394745230675, 0.04825492575764656, -0.018746620044112206, -0.0029637787956744432, 0.0055462950840592384, 0.004226262215524912, -0.004301795735955238, 0.010977491736412048, 0.03979520499706268, 0.00434855418279767, 0.014876443892717361, 0.012466575019061565, -0.01500592939555645, -0.05447022616863251, 0.0012391041964292526, -0.08776238560676575, 0.04744923859834671, 0.011761598289012909, 0.0018631522543728352, 0.0025213700719177723, 0.008898530155420303, 0.0028504792135208845, -0.029436366632580757, -0.013416134752333164, 0.023710230365395546, -0.019796893000602722, 0.02408429980278015, 0.0043737320229411125, -0.000470733706606552, -0.0023667069617658854, -0.02506263554096222, 0.026904206722974777, 0.011704049073159695, 0.03904706612229347, -0.0019566696137189865, -0.0036148030776530504, -0.015538258478045464, -0.04005417600274086, 0.032227497547864914, 0.00518661318346858, -0.0316232331097126, 0.006064237095415592, -0.001987242605537176, 0.00768280541524291, -0.014387276023626328, 0.009718605317175388, -0.045435018837451935, 0.014185854233801365, 0.02838609553873539, 0.0023325372021645308, -0.02509140968322754, 0.005607441067695618, 0.0038342091720551252, 0.037867311388254166, 0.008934498764574528, -0.019537921994924545, -0.015192964114248753, -0.008848174475133419, 0.003163402434438467, 0.01165369339287281, -0.013092420995235443, -0.02582516148686409, 0.009768960997462273, 0.013660718686878681, 0.003801837796345353, 0.024846825748682022, 0.009028015658259392, -0.02255924977362156, 0.0010457751341164112, -0.0034835191909223795, -0.01376143004745245, 0.005657796282321215, 0.01582600362598896, -0.012459381483495235, -0.027911316603422165, 0.037032850086688995, -0.012905387207865715, 0.021293168887495995, -0.027767444029450417, 0.013711074367165565, 0.0028217046055942774, 0.00022333998640533537, 0.004111164249479771, 0.02421378530561924, 0.02842925861477852, -0.020257284864783287, -0.013689493760466576, 0.02169601246714592, 0.008215134963393211, 1.9108101696474478e-05, 0.010934329591691494, -0.018674684688448906, -0.006970635149627924, -0.010596228763461113, 0.0012220193166285753, 0.017868997529149055, -0.03596819192171097, -0.013833366334438324, -0.021422654390335083, 0.01211408618837595, -0.010437969118356705, 0.003111248603090644, -0.0020879535004496574, -0.014905218034982681, -0.013020484708249569, -0.03919094055891037, 0.010999072343111038, -0.012452187947928905, -0.0074238344095647335, 0.004161519464105368, 0.016228847205638885, 0.0009432657971046865, 0.013847753405570984, 0.006326804868876934, -0.004686655011028051, 0.006736841984093189, -0.004014050122350454, -0.02337932400405407, -0.025494253262877464, -0.022918930277228355, -0.007625256199389696, -0.019782504066824913, -0.020616967231035233, -0.007546126376837492, -0.008840980939567089, 0.022213954478502274, 0.01412830501794815, -0.003382808296009898, 0.026184841990470886, -0.021278781816363335, 0.0027929299976676702, 0.022199567407369614, -0.00439531309530139, -0.004470846150070429, 0.023882878944277763, 0.0055966502986848354, 0.01752370223402977, 0.03401152044534683, 0.007524545304477215, 0.023739006370306015, 0.011214882135391235, 0.029666563495993614, -0.02242976427078247, 0.0077187735587358475, -0.030673673376441002, 0.011869503185153008, -0.005143451038748026, -0.013545620255172253, -0.012624834664165974, -0.02844364568591118, -0.0009243824752047658, -0.037867311388254166, 0.020214123651385307, -0.005165032111108303, 0.07366285473108292, 0.0038521932438015938, -0.020559417083859444, -0.03855790197849274, 0.018070418387651443, -0.007218815851956606, 0.01831500232219696, -0.0014189451467245817, 0.028760164976119995, -0.027666732668876648, 0.022890156134963036, 0.0019530727295204997, 0.011862309649586678, 0.0022030516993254423, -0.012243571691215038, -0.008661140687763691, 0.0015169584657996893, 0.02845803275704384, -0.010711327195167542, 0.007319526746869087, 0.022170793265104294, 0.009186276234686375, 0.019422823563218117, 0.018948042765259743, 0.0028810519725084305, -0.005330485757440329, 0.03004063293337822, -0.002987158251926303, -0.0058700088411569595, -0.04316182807087898, -0.0008155787363648415, -0.012286733835935593, 0.011552982963621616, -0.00666850246489048, 0.0076612248085439205, -0.022026920691132545, -0.001176159828901291, 0.0009864276507869363, 0.00605344632640481, 0.010013544000685215, -0.011912664398550987, 0.010466743260622025, -0.0481685996055603, -0.020458707585930824, 0.016818726435303688, -0.02411307580769062, 0.017912158742547035, 0.002213842235505581, -0.022026920691132545]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="load-documents-and-metadata-into-timescalevector-vectorstore">
<h3>Load documents and metadata into TimescaleVector vectorstore<a class="headerlink" href="#load-documents-and-metadata-into-timescalevector-vectorstore" title="Permalink to this heading">ïƒ</a></h3>
<p>Now that we have prepared our nodes and added embeddings to them, letâ€™s add them into our TimescaleVector vectorstore.</p>
<p>Weâ€™ll create a Timescale Vector instance from the list of nodes we created.</p>
<p>First, weâ€™ll define a collection name, which will be the name of our table in the PostgreSQL database.</p>
<p>Weâ€™ll also define a time delta, which we pass to the <code class="docutils literal notranslate"><span class="pre">time_partition_interval</span></code> argument, which will be used to as the interval for partitioning the data by time. Each partition will consist of data for the specified length of time. Weâ€™ll use 7 days for simplicity, but you can pick whatever value make sense for your use case â€“ for example if you query recent vectors frequently you might want to use a smaller time delta like 1 day, or if you query vectors over a decade long time period then you might want to use a larger time delta like 6 months or 1 year.</p>
<p>Then weâ€™ll add the nodes to the Timescale Vector vectorstore.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a timescale vector store and add the newly created nodes to it</span>
<span class="n">ts_vector_store</span> <span class="o">=</span> <span class="n">TimescaleVectorStore</span><span class="o">.</span><span class="n">from_params</span><span class="p">(</span>
    <span class="n">service_url</span><span class="o">=</span><span class="n">TIMESCALE_SERVICE_URL</span><span class="p">,</span>
    <span class="n">table_name</span><span class="o">=</span><span class="s2">&quot;li_commit_history&quot;</span><span class="p">,</span>
    <span class="n">time_partition_interval</span><span class="o">=</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ts_vector_store</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="querying-vectors-by-time-and-similarity">
<h3>Querying vectors by time and similarity<a class="headerlink" href="#querying-vectors-by-time-and-similarity" title="Permalink to this heading">ïƒ</a></h3>
<p>Now that we have loaded our documents into TimescaleVector, we can query them by time and similarity.</p>
<p>TimescaleVector provides multiple methods for querying vectors by doing similarity search with time-based filtering Letâ€™s take a look at each method below.</p>
<p>First we define a query string and get the vector embedding for the query string.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define query and generate embedding for it</span>
<span class="n">query_str</span> <span class="o">=</span> <span class="s2">&quot;What&#39;s new with TimescaleDB functions?&quot;</span>
<span class="n">embed_model</span> <span class="o">=</span> <span class="n">OpenAIEmbedding</span><span class="p">()</span>
<span class="n">query_embedding</span> <span class="o">=</span> <span class="n">embed_model</span><span class="o">.</span><span class="n">get_query_embedding</span><span class="p">(</span><span class="n">query_str</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Then we set some variables which weâ€™ll use in our time filters.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Time filter variables for query</span>
<span class="n">start_dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span>
    <span class="mi">2023</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">35</span>
<span class="p">)</span>  <span class="c1"># Start date = 1 August 2023, 22:10:35</span>
<span class="n">end_dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span>
    <span class="mi">2023</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">35</span>
<span class="p">)</span>  <span class="c1"># End date = 30 August 2023, 22:10:35</span>
<span class="n">td</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>  <span class="c1"># Time delta = 7 days</span>
</pre></div>
</div>
</div>
</div>
<p>Method 1: Filter within a provided start date and end date.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Query the vector database</span>
<span class="n">vector_store_query</span> <span class="o">=</span> <span class="n">VectorStoreQuery</span><span class="p">(</span>
    <span class="n">query_embedding</span><span class="o">=</span><span class="n">query_embedding</span><span class="p">,</span> <span class="n">similarity_top_k</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>

<span class="c1"># return most similar vectors to query between start date and end date date range</span>
<span class="c1"># returns a VectorStoreQueryResult object</span>
<span class="n">query_result</span> <span class="o">=</span> <span class="n">ts_vector_store</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
    <span class="n">vector_store_query</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="n">start_dt</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="n">end_dt</span>
<span class="p">)</span>
<span class="n">query_result</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>VectorStoreQueryResult(nodes=[TextNode(id_=&#39;22747180-31f1-11ee-bd8e-101e36c28c91&#39;, embedding=None, metadata={&#39;commit&#39;: &#39; 7aeed663b9c0f337b530fd6cad47704a51a9b2ec&#39;, &#39;author&#39;: &#39;Dmitry Simonenko&#39;, &#39;date&#39;: &#39;2023-08-3 14:30:23+0500&#39;}, excluded_embed_metadata_keys=[], excluded_llm_metadata_keys=[], relationships={}, hash=&#39;3273f20a98f02c75847896b929888b05e8751ae5e258d7feb8605bd5290ef8ca&#39;, text=&#39;Thu Aug 3 14:30:23 2023 +0300 Dmitry Simonenko Feature flags for TimescaleDB features This PR adds several GUCs which allow to enable/disable major timescaledb features:  - enable_hypertable_create - enable_hypertable_compression - enable_cagg_create - enable_policy_create &#39;, start_char_idx=None, end_char_idx=None, text_template=&#39;{metadata_str}\n\n{content}&#39;, metadata_template=&#39;{key}: {value}&#39;, metadata_seperator=&#39;\n&#39;), TextNode(id_=&#39;faa8ea00-4686-11ee-b933-c2c7df407c25&#39;, embedding=None, metadata={&#39;commit&#39;: &#39; e4facda540286b0affba47ccc63959fefe2a7b26&#39;, &#39;author&#39;: &#39;Sven Klemm&#39;, &#39;date&#39;: &#39;2023-08-29 18:13:24+0320&#39;}, excluded_embed_metadata_keys=[], excluded_llm_metadata_keys=[], relationships={}, hash=&#39;6f45ab1cccf673ddf75c625983b6cf2f4a66bbf865a4c1c65025997a470f3bb3&#39;, text=&#39;Tue Aug 29 18:13:24 2023 +0200 Sven Klemm Add compatibility layer for _timescaledb_internal functions With timescaledb 2.12 all the functions present in _timescaledb_internal were moved into the _timescaledb_functions schema to improve schema security. This patch adds a compatibility layer so external callers of these internal functions will not break and allow for more flexibility when migrating. &#39;, start_char_idx=None, end_char_idx=None, text_template=&#39;{metadata_str}\n\n{content}&#39;, metadata_template=&#39;{key}: {value}&#39;, metadata_seperator=&#39;\n&#39;), TextNode(id_=&#39;d7080180-40d2-11ee-af6f-f43e81a0925a&#39;, embedding=None, metadata={&#39;commit&#39;: &#39; cf04496e4b4237440274eb25e4e02472fc4e06fc&#39;, &#39;author&#39;: &#39;Sven Klemm&#39;, &#39;date&#39;: &#39;2023-08-22 12:01:19+0320&#39;}, excluded_embed_metadata_keys=[], excluded_llm_metadata_keys=[], relationships={}, hash=&#39;d5a20dc83ae04f44aa901ba2f654e80ca68cb21f6a313bd91afcd91e404b471e&#39;, text=&#39;Tue Aug 22 12:01:19 2023 +0200 Sven Klemm Move utility functions to _timescaledb_functions schema To increase schema security we do not want to mix our own internal objects with user objects. Since chunks are created in the _timescaledb_internal schema our internal functions should live in a different dedicated schema. This patch make the necessary adjustments for the following functions:  - generate_uuid() - get_git_commit() - get_os_info() - tsl_loaded() &#39;, start_char_idx=None, end_char_idx=None, text_template=&#39;{metadata_str}\n\n{content}&#39;, metadata_template=&#39;{key}: {value}&#39;, metadata_seperator=&#39;\n&#39;), TextNode(id_=&#39;01b10780-4649-11ee-a375-5719b2881af3&#39;, embedding=None, metadata={&#39;commit&#39;: &#39; a9751ccd5eb030026d7b975d22753f5964972389&#39;, &#39;author&#39;: &#39;Sven Klemm&#39;, &#39;date&#39;: &#39;2023-08-29 10:49:47+0320&#39;}, excluded_embed_metadata_keys=[], excluded_llm_metadata_keys=[], relationships={}, hash=&#39;8fde14d147def41808d82bf2ffa35e1e0ed78b0331962907cee856af34a34e44&#39;, text=&#39;Tue Aug 29 10:49:47 2023 +0200 Sven Klemm Move partitioning functions to _timescaledb_functions schema To increase schema security we do not want to mix our own internal objects with user objects. Since chunks are created in the _timescaledb_internal schema our internal functions should live in a different dedicated schema. This patch make the necessary adjustments for the following functions:  - get_partition_for_key(val anyelement) - get_partition_hash(val anyelement) &#39;, start_char_idx=None, end_char_idx=None, text_template=&#39;{metadata_str}\n\n{content}&#39;, metadata_template=&#39;{key}: {value}&#39;, metadata_seperator=&#39;\n&#39;), TextNode(id_=&#39;e7ba7f80-36af-11ee-9479-6c18a6a65db1&#39;, embedding=None, metadata={&#39;commit&#39;: &#39; 44eab9cf9bef34274c88efd37a750eaa74cd8044&#39;, &#39;author&#39;: &#39;Konstantina Skovola&#39;, &#39;date&#39;: &#39;2023-08-9 15:26:03+0500&#39;}, excluded_embed_metadata_keys=[], excluded_llm_metadata_keys=[], relationships={}, hash=&#39;f0db9c719928ecc16653bbf0a44f1eaeb221ac79dae16fd36710044d1561dbfa&#39;, text=&#39;Wed Aug 9 15:26:03 2023 +0300 Konstantina Skovola Release 2.11.2 This release contains bug fixes since the 2.11.1 release. We recommend that you upgrade at the next available opportunity.  **Features** * #5923 Feature flags for TimescaleDB features  **Bugfixes** * #5680 Fix DISTINCT query with JOIN on multiple segmentby columns * #5774 Fixed two bugs in decompression sorted merge code * #5786 Ensure pg_config --cppflags are passed * #5906 Fix quoting owners in sql scripts. * #5912 Fix crash in 1-step integer policy creation  **Thanks** * @mrksngl for submitting a PR to fix extension upgrade scripts * @ericdevries for reporting an issue with DISTINCT queries using segmentby columns of compressed hypertable &#39;, start_char_idx=None, end_char_idx=None, text_template=&#39;{metadata_str}\n\n{content}&#39;, metadata_template=&#39;{key}: {value}&#39;, metadata_seperator=&#39;\n&#39;)], similarities=[0.18141598590707553, 0.1821951378700205, 0.1948705199438009, 0.19657938500765504, 0.19664154042725346], ids=[UUID(&#39;22747180-31f1-11ee-bd8e-101e36c28c91&#39;), UUID(&#39;faa8ea00-4686-11ee-b933-c2c7df407c25&#39;), UUID(&#39;d7080180-40d2-11ee-af6f-f43e81a0925a&#39;), UUID(&#39;01b10780-4649-11ee-a375-5719b2881af3&#39;), UUID(&#39;e7ba7f80-36af-11ee-9479-6c18a6a65db1&#39;)])
</pre></div>
</div>
</div>
</div>
<p>Letâ€™s inspect the nodes that were returned from the similarity search:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># for each node in the query result, print the node metadata date</span>
<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">query_result</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">80</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get_content</span><span class="p">(</span><span class="n">metadata_mode</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--------------------------------------------------------------------------------
2023-08-3 14:30:23+0500
commit:  7aeed663b9c0f337b530fd6cad47704a51a9b2ec
author: Dmitry Simonenko
date: 2023-08-3 14:30:23+0500

Thu Aug 3 14:30:23 2023 +0300 Dmitry Simonenko Feature flags for TimescaleDB features This PR adds several GUCs which allow to enable/disable major timescaledb features:  - enable_hypertable_create - enable_hypertable_compression - enable_cagg_create - enable_policy_create
--------------------------------------------------------------------------------
2023-08-29 18:13:24+0320
commit:  e4facda540286b0affba47ccc63959fefe2a7b26
author: Sven Klemm
date: 2023-08-29 18:13:24+0320

Tue Aug 29 18:13:24 2023 +0200 Sven Klemm Add compatibility layer for _timescaledb_internal functions With timescaledb 2.12 all the functions present in _timescaledb_internal were moved into the _timescaledb_functions schema to improve schema security. This patch adds a compatibility layer so external callers of these internal functions will not break and allow for more flexibility when migrating.
--------------------------------------------------------------------------------
2023-08-22 12:01:19+0320
commit:  cf04496e4b4237440274eb25e4e02472fc4e06fc
author: Sven Klemm
date: 2023-08-22 12:01:19+0320

Tue Aug 22 12:01:19 2023 +0200 Sven Klemm Move utility functions to _timescaledb_functions schema To increase schema security we do not want to mix our own internal objects with user objects. Since chunks are created in the _timescaledb_internal schema our internal functions should live in a different dedicated schema. This patch make the necessary adjustments for the following functions:  - generate_uuid() - get_git_commit() - get_os_info() - tsl_loaded()
--------------------------------------------------------------------------------
2023-08-29 10:49:47+0320
commit:  a9751ccd5eb030026d7b975d22753f5964972389
author: Sven Klemm
date: 2023-08-29 10:49:47+0320

Tue Aug 29 10:49:47 2023 +0200 Sven Klemm Move partitioning functions to _timescaledb_functions schema To increase schema security we do not want to mix our own internal objects with user objects. Since chunks are created in the _timescaledb_internal schema our internal functions should live in a different dedicated schema. This patch make the necessary adjustments for the following functions:  - get_partition_for_key(val anyelement) - get_partition_hash(val anyelement)
--------------------------------------------------------------------------------
2023-08-9 15:26:03+0500
commit:  44eab9cf9bef34274c88efd37a750eaa74cd8044
author: Konstantina Skovola
date: 2023-08-9 15:26:03+0500

Wed Aug 9 15:26:03 2023 +0300 Konstantina Skovola Release 2.11.2 This release contains bug fixes since the 2.11.1 release. We recommend that you upgrade at the next available opportunity.  **Features** * #5923 Feature flags for TimescaleDB features  **Bugfixes** * #5680 Fix DISTINCT query with JOIN on multiple segmentby columns * #5774 Fixed two bugs in decompression sorted merge code * #5786 Ensure pg_config --cppflags are passed * #5906 Fix quoting owners in sql scripts. * #5912 Fix crash in 1-step integer policy creation  **Thanks** * @mrksngl for submitting a PR to fix extension upgrade scripts * @ericdevries for reporting an issue with DISTINCT queries using segmentby columns of compressed hypertable
</pre></div>
</div>
</div>
</div>
<p>Note how the query only returns results within the specified date range.</p>
<p>Method 2: Filter within a provided start date, and a time delta later.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vector_store_query</span> <span class="o">=</span> <span class="n">VectorStoreQuery</span><span class="p">(</span>
    <span class="n">query_embedding</span><span class="o">=</span><span class="n">query_embedding</span><span class="p">,</span> <span class="n">similarity_top_k</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>

<span class="c1"># return most similar vectors to query from start date and a time delta later</span>
<span class="n">query_result</span> <span class="o">=</span> <span class="n">ts_vector_store</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
    <span class="n">vector_store_query</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="n">start_dt</span><span class="p">,</span> <span class="n">time_delta</span><span class="o">=</span><span class="n">td</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">query_result</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">80</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get_content</span><span class="p">(</span><span class="n">metadata_mode</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--------------------------------------------------------------------------------
2023-08-3 14:30:23+0500
commit:  7aeed663b9c0f337b530fd6cad47704a51a9b2ec
author: Dmitry Simonenko
date: 2023-08-3 14:30:23+0500

Thu Aug 3 14:30:23 2023 +0300 Dmitry Simonenko Feature flags for TimescaleDB features This PR adds several GUCs which allow to enable/disable major timescaledb features:  - enable_hypertable_create - enable_hypertable_compression - enable_cagg_create - enable_policy_create
--------------------------------------------------------------------------------
2023-08-7 19:49:47+-500
commit:  5bba74a2ec083728f8e93e09d03d102568fd72b5
author: FabrÃ­zio de Royes Mello
date: 2023-08-7 19:49:47+-500

Mon Aug 7 19:49:47 2023 -0300 FabrÃ­zio de Royes Mello Relax strong table lock when refreshing a CAGG When refreshing a Continuous Aggregate we take a table lock on _timescaledb_catalog.continuous_aggs_invalidation_threshold when processing the invalidation logs (the first transaction of the refresh Continuous Aggregate procedure). It means that even two different Continuous Aggregates over two different hypertables will wait each other in the first phase of the refreshing procedure. Also it lead to problems when a pg_dump is running because it take an AccessShareLock on tables so Continuous Aggregate refresh execution will wait until the pg_dump finish.  Improved it by relaxing the strong table-level lock to a row-level lock so now the Continuous Aggregate refresh procedure can be executed in multiple sessions with less locks.  Fix #3554
--------------------------------------------------------------------------------
2023-08-3 14:36:39+0500
commit:  2863daf3df83c63ee36c0cf7b66c522da5b4e127
author: Dmitry Simonenko
date: 2023-08-3 14:36:39+0500

Thu Aug 3 14:36:39 2023 +0300 Dmitry Simonenko Support CREATE INDEX ONLY ON main table This PR adds support for CREATE INDEX ONLY ON clause which allows to create index only on the main table excluding chunks.  Fix #5908
--------------------------------------------------------------------------------
2023-08-2 20:24:14+0140
commit:  3af0d282ea71d9a8f27159a6171e9516e62ec9cb
author: Lakshmi Narayanan Sreethar
date: 2023-08-2 20:24:14+0140

Wed Aug 2 20:24:14 2023 +0100 Lakshmi Narayanan Sreethar PG16: ExecInsertIndexTuples requires additional parameter PG16 adds a new boolean parameter to the ExecInsertIndexTuples function to denote if the index is a BRIN index, which is then used to determine if the index update can be skipped. The fix also removes the INDEX_ATTR_BITMAP_ALL enum value.  Adapt these changes by updating the compat function to accomodate the new parameter added to the ExecInsertIndexTuples function and using an alternative for the removed INDEX_ATTR_BITMAP_ALL enum value.  postgres/postgres@19d8e23
--------------------------------------------------------------------------------
2023-08-7 16:36:17+0500
commit:  373c55662ca5f8a2993abf9b2aa7f5f4006b3229
author: Konstantina Skovola
date: 2023-08-7 16:36:17+0500

Mon Aug 7 16:36:17 2023 +0300 Konstantina Skovola Fix ordered append for partially compressed chunks In the exclusive presence of partially compressed chunks, this optimization was not applied because no pathkeys were supplied. Additionally, this patch makes sure that if applicable, the `enable_decompression_sorted_merge` optimization is chosen for the path, since it is more beneficial due to the ability to push down the sort below DecompressChunk.
</pre></div>
</div>
</div>
</div>
<p>Once again, notice how only nodes between the start date (1 August) and the defined time delta later (7 days later) are returned.</p>
<p>Method 3: Filter within a provided end date and a time delta earlier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vector_store_query</span> <span class="o">=</span> <span class="n">VectorStoreQuery</span><span class="p">(</span>
    <span class="n">query_embedding</span><span class="o">=</span><span class="n">query_embedding</span><span class="p">,</span> <span class="n">similarity_top_k</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>

<span class="c1"># return most similar vectors to query from end date and a time delta earlier</span>
<span class="n">query_result</span> <span class="o">=</span> <span class="n">ts_vector_store</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
    <span class="n">vector_store_query</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="n">end_dt</span><span class="p">,</span> <span class="n">time_delta</span><span class="o">=</span><span class="n">td</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">query_result</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">80</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">get_content</span><span class="p">(</span><span class="n">metadata_mode</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--------------------------------------------------------------------------------
2023-08-29 18:13:24+0320
commit:  e4facda540286b0affba47ccc63959fefe2a7b26
author: Sven Klemm
date: 2023-08-29 18:13:24+0320

Tue Aug 29 18:13:24 2023 +0200 Sven Klemm Add compatibility layer for _timescaledb_internal functions With timescaledb 2.12 all the functions present in _timescaledb_internal were moved into the _timescaledb_functions schema to improve schema security. This patch adds a compatibility layer so external callers of these internal functions will not break and allow for more flexibility when migrating.
--------------------------------------------------------------------------------
2023-08-29 10:49:47+0320
commit:  a9751ccd5eb030026d7b975d22753f5964972389
author: Sven Klemm
date: 2023-08-29 10:49:47+0320

Tue Aug 29 10:49:47 2023 +0200 Sven Klemm Move partitioning functions to _timescaledb_functions schema To increase schema security we do not want to mix our own internal objects with user objects. Since chunks are created in the _timescaledb_internal schema our internal functions should live in a different dedicated schema. This patch make the necessary adjustments for the following functions:  - get_partition_for_key(val anyelement) - get_partition_hash(val anyelement)
--------------------------------------------------------------------------------
2023-08-28 23:26:23+0320
commit:  b2a91494a11d8b82849b6f11f9ea6dc26ef8a8cb
author: Sven Klemm
date: 2023-08-28 23:26:23+0320

Mon Aug 28 23:26:23 2023 +0200 Sven Klemm Move ddl_internal functions to _timescaledb_functions schema To increase schema security we do not want to mix our own internal objects with user objects. Since chunks are created in the _timescaledb_internal schema our internal functions should live in a different dedicated schema. This patch make the necessary adjustments for the following functions:  - chunk_constraint_add_table_constraint(_timescaledb_catalog.chunk_constraint) - chunk_drop_replica(regclass,name) - chunk_index_clone(oid) - chunk_index_replace(oid,oid) - create_chunk_replica_table(regclass,name) - drop_stale_chunks(name,integer[]) - health() - hypertable_constraint_add_table_fk_constraint(name,name,name,integer) - process_ddl_event() - wait_subscription_sync(name,name,integer,numeric)
--------------------------------------------------------------------------------
2023-08-29 14:47:57+0320
commit:  08231c8aacd17152f315ad36d95c031fb46073aa
author: Jan Nidzwetzki
date: 2023-08-29 14:47:57+0320

Tue Aug 29 14:47:57 2023 +0200 Jan Nidzwetzki Export is_decompress_chunk_path / is_gapfill_path This patch adds the &#39;ts_&#39; prefix to the function names of is_decompress_chunk_path and is_gapfill_path and makes them available for use by other parts of TimescaleDB.
--------------------------------------------------------------------------------
2023-08-28 15:32:54+0320
commit:  6576d969b319dac8e7fd08a9cf4cfc8197b34d1d
author: Sven Klemm
date: 2023-08-28 15:32:54+0320

Mon Aug 28 15:32:54 2023 +0200 Sven Klemm Move log invalidation functions to _timescaledb_functions schema To increase schema security we do not want to mix our own internal objects with user objects. Since chunks are created in the _timescaledb_internal schema our internal functions should live in a different dedicated schema. This patch make the necessary adjustments for the following functions:  - cagg_watermark(integer) - cagg_watermark_materialized(integer) - hypertable_invalidation_log_delete(integer) - invalidation_cagg_log_add_entry(integer,bigint,bigint) - invalidation_hyper_log_add_entry(integer,bigint,bigint) - invalidation_process_cagg_log(integer,integer,regtype,bigint,bigint,integer[],bigint[],bigint[]) - invalidation_process_cagg_log(integer,integer,regtype,bigint,bigint,integer[],bigint[],bigint[],text[]) - invalidation_process_hypertable_log(integer,integer,regtype,integer[],bigint[],bigint[]) - invalidation_process_hypertable_log(integer,integer,regtype,integer[],bigint[],bigint[],text[]) - materialization_invalidation_log_delete(integer)
</pre></div>
</div>
</div>
</div>
<p>The main takeaway is that in each result above, only vectors within the specified time range are returned. These queries are very efficient as they only need to search the relevant partitions.</p>
</div>
</div>
<div class="section" id="using-timescalevector-store-as-a-retriever-and-query-engine">
<h2>4. Using TimescaleVector store as a Retriever and Query engine<a class="headerlink" href="#using-timescalevector-store-as-a-retriever-and-query-engine" title="Permalink to this heading">ïƒ</a></h2>
<p>Now that weâ€™ve explored basic similarity search and similarity search with time-based filters, letâ€™s look at how to these features of Timescale Vector with LLamaIndexâ€™s retriever and query engine.</p>
<p>First weâ€™ll look at how to use TimescaleVector as a <a class="reference external" href="https://gpt-index.readthedocs.io/en/latest/api_reference/query/retrievers.html">retriever</a>, specifically a <a class="reference external" href="https://gpt-index.readthedocs.io/en/latest/api_reference/query/retrievers/vector_store.html">Vector Store Retriever</a>.</p>
<p>To constrain the nodes retrieved to a relevant time-range, we can use TimescaleVectorâ€™s time filters. We simply pass the time filter parameters as <code class="docutils literal notranslate"><span class="pre">vector_strored_kwargs</span></code> when creating the retriever.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index</span> <span class="kn">import</span> <span class="n">VectorStoreIndex</span>
<span class="kn">from</span> <span class="nn">llama_index.storage</span> <span class="kn">import</span> <span class="n">StorageContext</span>

<span class="n">index</span> <span class="o">=</span> <span class="n">VectorStoreIndex</span><span class="o">.</span><span class="n">from_vector_store</span><span class="p">(</span><span class="n">ts_vector_store</span><span class="p">)</span>
<span class="n">retriever</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span>
    <span class="n">vector_store_kwargs</span><span class="o">=</span><span class="p">({</span><span class="s2">&quot;start_date&quot;</span><span class="p">:</span> <span class="n">start_dt</span><span class="p">,</span> <span class="s2">&quot;time_delta&quot;</span><span class="p">:</span> <span class="n">td</span><span class="p">})</span>
<span class="p">)</span>
<span class="n">retriever</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s2">&quot;What&#39;s new with TimescaleDB functions?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[NodeWithScore(node=TextNode(id_=&#39;22747180-31f1-11ee-bd8e-101e36c28c91&#39;, embedding=None, metadata={&#39;commit&#39;: &#39; 7aeed663b9c0f337b530fd6cad47704a51a9b2ec&#39;, &#39;author&#39;: &#39;Dmitry Simonenko&#39;, &#39;date&#39;: &#39;2023-08-3 14:30:23+0500&#39;}, excluded_embed_metadata_keys=[], excluded_llm_metadata_keys=[], relationships={}, hash=&#39;3273f20a98f02c75847896b929888b05e8751ae5e258d7feb8605bd5290ef8ca&#39;, text=&#39;Thu Aug 3 14:30:23 2023 +0300 Dmitry Simonenko Feature flags for TimescaleDB features This PR adds several GUCs which allow to enable/disable major timescaledb features:  - enable_hypertable_create - enable_hypertable_compression - enable_cagg_create - enable_policy_create &#39;, start_char_idx=None, end_char_idx=None, text_template=&#39;{metadata_str}\n\n{content}&#39;, metadata_template=&#39;{key}: {value}&#39;, metadata_seperator=&#39;\n&#39;), score=0.1813839050209377),
 NodeWithScore(node=TextNode(id_=&#39;b5583780-3574-11ee-871a-5a8c45d660c8&#39;, embedding=None, metadata={&#39;commit&#39;: &#39; 5bba74a2ec083728f8e93e09d03d102568fd72b5&#39;, &#39;author&#39;: &#39;FabrÃ­zio de Royes Mello&#39;, &#39;date&#39;: &#39;2023-08-7 19:49:47+-500&#39;}, excluded_embed_metadata_keys=[], excluded_llm_metadata_keys=[], relationships={}, hash=&#39;ec25a09b9dd34ed2650aefc2ce71e1b11fa471ffc43683715de788d202c6cdc8&#39;, text=&#39;Mon Aug 7 19:49:47 2023 -0300 FabrÃ­zio de Royes Mello Relax strong table lock when refreshing a CAGG When refreshing a Continuous Aggregate we take a table lock on _timescaledb_catalog.continuous_aggs_invalidation_threshold when processing the invalidation logs (the first transaction of the refresh Continuous Aggregate procedure). It means that even two different Continuous Aggregates over two different hypertables will wait each other in the first phase of the refreshing procedure. Also it lead to problems when a pg_dump is running because it take an AccessShareLock on tables so Continuous Aggregate refresh execution will wait until the pg_dump finish.  Improved it by relaxing the strong table-level lock to a row-level lock so now the Continuous Aggregate refresh procedure can be executed in multiple sessions with less locks.  Fix #3554 &#39;, start_char_idx=None, end_char_idx=None, text_template=&#39;{metadata_str}\n\n{content}&#39;, metadata_template=&#39;{key}: {value}&#39;, metadata_seperator=&#39;\n&#39;), score=0.23511557892997959)]
</pre></div>
</div>
</div>
</div>
<p>Next weâ€™ll look at how to use TimescaleVector as a <a class="reference external" href="https://gpt-index.readthedocs.io/en/latest/api_reference/query/query_engines.html">query engine</a>.</p>
<p>Once again, we use TimescaleVectorâ€™s time filters to constrain the search to a relevant time range by passing our time filter parameters as <code class="docutils literal notranslate"><span class="pre">vector_strored_kwargs</span></code> when creating the query engine.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">index</span> <span class="o">=</span> <span class="n">VectorStoreIndex</span><span class="o">.</span><span class="n">from_vector_store</span><span class="p">(</span><span class="n">ts_vector_store</span><span class="p">)</span>
<span class="n">query_engine</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">as_query_engine</span><span class="p">(</span>
    <span class="n">vector_store_kwargs</span><span class="o">=</span><span class="p">({</span><span class="s2">&quot;start_date&quot;</span><span class="p">:</span> <span class="n">start_dt</span><span class="p">,</span> <span class="s2">&quot;end_date&quot;</span><span class="p">:</span> <span class="n">end_dt</span><span class="p">})</span>
<span class="p">)</span>

<span class="c1"># query_str = &quot;What&#39;s new with TimescaleDB? List 3 new features&quot;</span>
<span class="n">query_str</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;What&#39;s new with TimescaleDB functions? When were these changes made and&quot;</span>
    <span class="s2">&quot; by whom?&quot;</span>
<span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query_str</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>TimescaleDB functions have undergone changes recently. These changes were made by Sven Klemm on August 29, 2023. The changes involve adding a compatibility layer for _timescaledb_internal functions. This layer ensures that external callers of these internal functions will not break and allows for more flexibility when migrating.
</pre></div>
</div>
</div>
</div>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="WeaviateIndexDemo.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Weaviate Vector Store</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="TencentVectorDBIndexDemo.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Tencent Cloud VectorDB</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Jerry Liu
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Timescale Vector Store (PostgreSQL)</a><ul>
<li><a class="reference internal" href="#what-is-timescale-vector">What is Timescale Vector?</a></li>
<li><a class="reference internal" href="#how-to-use-timescale-vector">How to use Timescale Vector</a></li>
<li><a class="reference internal" href="#setup">0. Setup</a><ul>
<li><a class="reference internal" href="#setup-openai-api-key">Setup OpenAI API Key</a></li>
<li><a class="reference internal" href="#create-a-postgresql-database-and-get-a-timescale-service-url">Create a PostgreSQL database and get a Timescale service URL</a></li>
</ul>
</li>
<li><a class="reference internal" href="#simple-similarity-search-with-timescale-vector">1. Simple Similarity Search with Timescale Vector</a><ul>
<li><a class="reference internal" href="#download-data">Download Data</a></li>
<li><a class="reference internal" href="#loading-documents">Loading documents</a></li>
<li><a class="reference internal" href="#create-a-vectorstore-index-with-the-timescalevectorstore">Create a VectorStore Index with the TimescaleVectorStore</a></li>
<li><a class="reference internal" href="#query-the-index">Query the index</a></li>
<li><a class="reference internal" href="#querying-existing-index">Querying existing index</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-ann-search-indexes-to-speed-up-queries">2. Using ANN search indexes to speed up queries</a></li>
<li><a class="reference internal" href="#similarity-search-with-time-based-filtering">3. Similarity Search with time-based filtering</a><ul>
<li><a class="reference internal" href="#extract-content-and-metadata-from-git-log-csv-file">Extract content and metadata from git log CSV file</a></li>
<li><a class="reference internal" href="#load-documents-and-metadata-into-timescalevector-vectorstore">Load documents and metadata into TimescaleVector vectorstore</a></li>
<li><a class="reference internal" href="#querying-vectors-by-time-and-similarity">Querying vectors by time and similarity</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-timescalevector-store-as-a-retriever-and-query-engine">4. Using TimescaleVector store as a Retriever and Query engine</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script src="../../_static/js/mendablesearch.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3.3.3/dist/umd/index.js"></script>
    <script defer="defer" src="../../_static/js/algolia.js"></script>
    </body>
</html>